"use strict";(self.webpackChunkmars_admin=self.webpackChunkmars_admin||[]).push([[1999],{38863:function(e,n,t){t.r(n);var l=t(15009),i=t.n(l),o=t(97857),r=t.n(o),a=t(99289),s=t.n(a),c=t(5574),d=t.n(c),u=t(2618),x=t(90930),f=t(2453),h=t(83622),y=t(4930),v=t(78818),p=t(24426),m=t(34041),g=t(55102),j=t(116),S=t(67294),w=t(71167),Z=t.n(w),b=(t(40190),t(85893));n.default=function(){(0,S.useEffect)((function(){Ze(1)}),[]);var e=(0,S.useState)({}),n=d()(e,2),t=n[0],l=n[1],o=(0,S.useState)([]),a=d()(o,2),c=a[0],w=a[1],z=(0,S.useState)(""),B=d()(z,2),C=B[0],k=B[1],T=(0,S.useState)(""),D=d()(T,2),I=D[0],P=D[1],L=(0,S.useState)(""),N=d()(L,2),E=N[0],O=N[1],_=(0,S.useState)([]),F=d()(_,2),R=F[0],Q=F[1],W=(0,S.useState)("0"),X=d()(W,2),q=X[0],A=X[1],G=(0,S.useState)("0"),H=d()(G,2),J=H[0],K=H[1],M=(0,S.useState)("0"),U=d()(M,2),V=U[0],Y=U[1],$=(0,S.useState)(""),ee=d()($,2),ne=ee[0],te=ee[1],le=(0,S.useState)(""),ie=d()(le,2),oe=ie[0],re=ie[1],ae=(0,S.useState)({}),se=d()(ae,2),ce=se[0],de=se[1],ue=(0,S.useState)(!1),xe=d()(ue,2),fe=xe[0],he=xe[1],ye=(0,S.useState)(!1),ve=d()(ye,2),pe=ve[0],me=ve[1],ge=(0,S.useState)(!1),je=d()(ge,2),Se=je[0],we=je[1],Ze=function(){var e=s()(i()().mark((function e(n){var t,o,a;return i()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={pageNum:n,pageSize:10},e.next=3,(0,u.vo)(t);case 3:200==(o=e.sent).code&&(a=o.data.records.map((function(e){return r()(r()({},e),{},{isTop:0==e.isTop?"否":"置顶",language:"en"==e.language?"英文":"zh-CN"==e.language?"简体中文":"vi"==e.language?"越南":"pt"==e.language?"葡萄牙":"es"==e.language?"西班牙":null})})),w(a),l(o.data));case 5:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),be=function(){var e=s()(i()().mark((function e(){var n,t;return i()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,u.XT)(oe);case 2:n=e.sent,t=[],200==n.code&&(n.data.map((function(e){t.push({value:e.announcementTypeId,label:e.actDesc})})),Q(t));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ze=function(e){te(e)},Be=function(){var e=s()(i()().mark((function e(n){var t;return i()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,u.c)(n);case 2:200==(t=e.sent).code?(te(t.data.content),K(t.data.isShow),A(t.data.isTop),Y(t.data.brandLine),k(t.data.title),O(t.data.announcementTypeId+""),me(!0),P(t.data.keywords),re(t.data.language)):f.ZP.error(t.msg);case 4:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();(0,S.useEffect)((function(){be()}),[oe]);var Ce=[{title:"公告标题",dataIndex:"title",key:"title"},{title:"语言",dataIndex:"language",key:"language"},{title:"置顶",dataIndex:"isTop",key:"isTop"},{title:"品牌线",dataIndex:"brandLine",key:"brandLine"},{title:"最近维护时间",dataIndex:"updateTime",key:"updateTime"},{title:"操作",dataIndex:"action",key:"action",render:function(e,n){return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("a",{style:{marginRight:10},onClick:function(){de(n),Be(n.id)},children:"查看"}),(0,b.jsx)("a",{style:{marginRight:10},onClick:function(){de(n),we(!0)},children:"删除"})]})}}],ke=function(){var e=s()(i()().mark((function e(){var n,t;return i()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={announcementTypeId:E,title:C,content:ne,isShow:J,isTop:q,keywords:I,brandLine:V,language:oe},e.next=3,(0,u.Fy)(n);case 3:200==(t=e.sent).code?(f.ZP.success("新增成功"),Ze(1),he(!1)):f.ZP.error(t.msg);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Te=function(){var e=s()(i()().mark((function e(){var n,t;return i()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={id:ce.id,announcementTypeId:E,title:C,content:ne,isShow:J,isTop:q,keywords:I,brandLine:V},e.next=3,(0,u.aQ)(n);case 3:200==(t=e.sent).code?(f.ZP.success("修改成功"),me(!1),Ze(1)):f.ZP.error(t.msg);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),De=function(){var e=s()(i()().mark((function e(){var n;return i()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,u.Zt)(ce.id);case 2:200==(n=e.sent).code?(f.ZP.success("删除成功"),Ze(1),we(!1)):f.ZP.error(n.msg);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,S.useEffect)((function(){0==pe&&0==fe&&(K("0"),A("0"),k(""),O(""),Y("0"),te(""),P(""))}),[pe,fe]),(0,b.jsxs)(x._z,{children:[(0,b.jsx)(h.ZP,{type:"primary",style:{marginTop:30,marginBottom:30},onClick:function(){return he(!0)},children:"新增公告"},"primary"),(0,b.jsx)(y.Z,{dataSource:c,scroll:{x:1500},columns:Ce,pagination:!1}),(0,b.jsx)(v.Z,{total:null==t?void 0:t.total,style:{marginTop:10},pageSize:null==t?void 0:t.size,current:null==t?void 0:t.current,onChange:function(e){return Ze(e)}}),(0,b.jsxs)(p.Z,{title:"新增公告",width:"1000px",open:fe,onCancel:function(){return he(!1)},onOk:function(){ke()},children:[(0,b.jsxs)("div",{style:{display:"flex",marginBottom:10},children:[(0,b.jsxs)("div",{style:{display:"flex",flexDirection:"column"},children:[(0,b.jsx)("div",{style:{fontSize:14,color:"#222",marginBottom:10},children:"所属品牌线"}),(0,b.jsx)("div",{style:{fontSize:14,color:"#222",flex:1},children:(0,b.jsx)(m.Z,{value:V,style:{width:120},onChange:function(e){return Y(e)},options:[{value:"0",label:"全部"}]})})]}),(0,b.jsxs)("div",{style:{display:"flex",flexDirection:"column",marginLeft:20},children:[(0,b.jsx)("div",{style:{fontSize:14,color:"#222",marginBottom:10},children:"请选择语言"}),(0,b.jsx)("div",{style:{fontSize:14,color:"#222",flex:1},children:(0,b.jsx)(m.Z,{style:{width:120},value:oe,onChange:function(e){re(e),O("")},options:[{label:"简体中文",value:"zh-CN"},{label:"西班牙语",value:"es"},{label:"英文",value:"en"},{label:"越南",value:"vi"},{label:"葡萄牙",value:"pt"}]})})]})]}),(0,b.jsx)("div",{style:{display:"flex",marginBottom:10},children:(0,b.jsxs)("div",{style:{display:"flex",flexDirection:"column"},children:[(0,b.jsx)("div",{style:{fontSize:14,color:"#222",marginBottom:10},children:"公告类型"}),(0,b.jsx)("div",{style:{fontSize:14,color:"#222",flex:1},children:(0,b.jsx)(m.Z,{style:{width:200},value:E,onChange:function(e){return O(e)},options:R})})]})}),(0,b.jsx)("div",{style:{display:"flex",marginBottom:10},children:(0,b.jsxs)("div",{style:{display:"flex",flexDirection:"column"},children:[(0,b.jsx)("div",{style:{fontSize:14,color:"#222",marginBottom:10},children:"公告标题"}),(0,b.jsx)(g.Z,{style:{width:300},placeholder:"公告标题",value:C,onChange:function(e){return k(e.target.value)}})]})}),(0,b.jsx)("div",{style:{display:"flex",marginBottom:10},children:(0,b.jsxs)("div",{style:{display:"flex",flexDirection:"column"},children:[(0,b.jsx)("div",{style:{fontSize:14,color:"#222",marginBottom:10},children:"关键字"}),(0,b.jsx)(g.Z,{style:{width:300},placeholder:"关键字",value:I,onChange:function(e){return P(e.target.value)}})]})}),(0,b.jsx)("div",{style:{display:"flex",marginBottom:10,marginTop:10},children:(0,b.jsxs)("div",{style:{display:"flex",flexDirection:"column"},children:[(0,b.jsx)("div",{style:{fontSize:14,color:"#222",marginBottom:10},children:"是否置顶"}),(0,b.jsx)("div",{style:{fontSize:14,color:"#222",flex:1},children:(0,b.jsx)(m.Z,{style:{width:120},value:q,onChange:function(e){return A(e)},options:[{value:"1",label:"是"},{value:"0",label:"否"}]})})]})}),(0,b.jsx)("div",{style:{display:"flex",marginBottom:10,marginTop:10},children:(0,b.jsxs)("div",{style:{display:"flex",flexDirection:"column"},children:[(0,b.jsx)("div",{style:{fontSize:14,color:"#222",marginBottom:10},children:"是否显示首页"}),(0,b.jsx)("div",{style:{fontSize:14,color:"#222",flex:1},children:(0,b.jsx)(m.Z,{style:{width:120},value:J,onChange:function(e){return K(e)},options:[{value:"1",label:"是"},{value:"0",label:"否"}]})})]})}),(0,b.jsx)(j.Z,{layout:"vertical",style:{marginBottom:100},children:(0,b.jsx)(j.Z.Item,{label:"内容编辑",children:(0,b.jsx)(Z(),{value:ne,onChange:ze,placeholder:"请输入内容...",style:{height:200}})})})]}),(0,b.jsxs)(p.Z,{title:"查看公告",width:"1000px",open:pe,onCancel:function(){return me(!1)},onOk:function(){Te()},okText:"修改",children:[(0,b.jsxs)("div",{style:{display:"flex",marginBottom:10},children:[(0,b.jsxs)("div",{style:{display:"flex",flexDirection:"column"},children:[(0,b.jsx)("div",{style:{fontSize:14,color:"#222",marginBottom:10},children:"所属品牌线"}),(0,b.jsx)("div",{style:{fontSize:14,color:"#222",flex:1},children:(0,b.jsx)(m.Z,{value:V+"",style:{width:120},onChange:function(e){return Y(e)},options:[{value:"0",label:"全部"}]})})]}),(0,b.jsxs)("div",{style:{display:"flex",flexDirection:"column",marginLeft:20},children:[(0,b.jsx)("div",{style:{fontSize:14,color:"#222",marginBottom:10},children:"请选择语言"}),(0,b.jsx)("div",{style:{fontSize:14,color:"#222",flex:1},children:(0,b.jsx)(m.Z,{style:{width:120},value:oe,onChange:function(e){re(e),O("")},options:[{label:"简体中文",value:"zh-CN"},{label:"西班牙语",value:"es"},{label:"英文",value:"en"},{label:"越南",value:"vi"},{label:"葡萄牙",value:"pt"}]})})]})]}),(0,b.jsx)("div",{style:{display:"flex",marginBottom:10},children:(0,b.jsxs)("div",{style:{display:"flex",flexDirection:"column"},children:[(0,b.jsx)("div",{style:{fontSize:14,color:"#222",marginBottom:10},children:"公告类型"}),(0,b.jsx)("div",{style:{fontSize:14,color:"#222",flex:1},children:(0,b.jsx)(m.Z,{style:{width:200},value:E,onChange:function(e){return O(e)},options:R})})]})}),(0,b.jsx)("div",{style:{display:"flex",marginBottom:10},children:(0,b.jsxs)("div",{style:{display:"flex",flexDirection:"column"},children:[(0,b.jsx)("div",{style:{fontSize:14,color:"#222",marginBottom:10},children:"公告标题"}),(0,b.jsx)(g.Z,{value:C,style:{width:300},placeholder:"公告标题",onChange:function(e){return k(e.target.value)}})]})}),(0,b.jsx)("div",{style:{display:"flex",marginBottom:10},children:(0,b.jsxs)("div",{style:{display:"flex",flexDirection:"column"},children:[(0,b.jsx)("div",{style:{fontSize:14,color:"#222",marginBottom:10},children:"关键字"}),(0,b.jsx)(g.Z,{style:{width:300},placeholder:"关键字",value:I,onChange:function(e){return P(e.target.value)}})]})}),(0,b.jsx)("div",{style:{display:"flex",marginBottom:10,marginTop:10},children:(0,b.jsxs)("div",{style:{display:"flex",flexDirection:"column"},children:[(0,b.jsx)("div",{style:{fontSize:14,color:"#222",marginBottom:10},children:"是否置顶"}),(0,b.jsx)("div",{style:{fontSize:14,color:"#222",flex:1},children:(0,b.jsx)(m.Z,{style:{width:120},value:q+"",onChange:function(e){return A(e)},options:[{value:"1",label:"是"},{value:"0",label:"否"}]})})]})}),(0,b.jsx)("div",{style:{display:"flex",marginBottom:10,marginTop:10},children:(0,b.jsxs)("div",{style:{display:"flex",flexDirection:"column"},children:[(0,b.jsx)("div",{style:{fontSize:14,color:"#222",marginBottom:10},children:"是否显示首页"}),(0,b.jsx)("div",{style:{fontSize:14,color:"#222",flex:1},children:(0,b.jsx)(m.Z,{style:{width:120},value:J+"",onChange:function(e){return K(e)},options:[{value:"1",label:"是"},{value:"0",label:"否"}]})})]})}),(0,b.jsx)(j.Z,{layout:"vertical",style:{marginBottom:100},children:(0,b.jsx)(j.Z.Item,{label:"内容编辑",children:(0,b.jsx)(Z(),{value:ne,onChange:ze,placeholder:"请输入内容...",style:{height:200}})})})]}),(0,b.jsx)(p.Z,{title:"删除公告",open:Se,onCancel:function(){return we(!1)},onOk:De,children:(0,b.jsxs)("div",{children:["是否删除该条公告： ",(0,b.jsx)("span",{style:{fontWeight:"bold"},children:ce.title})]})})]})}}}]);