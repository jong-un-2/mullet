"use strict";(self.webpackChunkmars_admin=self.webpackChunkmars_admin||[]).push([[4043],{48273:function(e,n,t){t.r(n);var r=t(15009),a=t.n(r),i=t(99289),o=t.n(i),u=t(5574),s=t.n(u),c=t(90930),l=t(67294),d=t(2453),f=t(83622),p=t(4930),m=t(78818),h=t(24426),x=t(55102),g=t(21836),v=t(2618),y=t(85893);n.default=function(){(0,l.useEffect)((function(){T(1)}),[]);var e=(0,g.useParams)().id;(0,l.useEffect)((function(){":id"==e&&(d.ZP.error("未传递用户组别ID"),g.history.push("/userManage/group"))}),[e,g.history]);var n=(0,l.useState)([]),t=s()(n,2),r=t[0],i=t[1],u=(0,l.useState)({}),j=s()(u,2),k=j[0],Z=j[1],S=(0,l.useState)({}),w=s()(S,2),I=w[0],C=w[1],P=(0,l.useState)(""),z=s()(P,2),B=z[0],D=z[1],_=(0,l.useState)(!1),b=s()(_,2),E=b[0],F=b[1],O=(0,l.useState)(!1),A=s()(O,2),M=A[0],N=A[1],T=function(){var n=o()(a()().mark((function n(t){var r,o;return a()().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r={groupId:e,pageNum:t,pageSize:10},n.next=3,(0,v.A2)(r);case 3:200==(o=n.sent).code?(Z(o.data),i(o.data.records)):d.ZP.error(o.msg);case 5:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),q=function(){var n=o()(a()().mark((function n(){var t,r;return a()().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t={groupId:e,email:B},n.next=3,(0,v.ID)(t);case 3:200==(r=n.sent).code?(d.ZP.success("添加成功"),T(1),F(!1)):d.ZP.error(r.msg);case 5:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),G=function(){var n=o()(a()().mark((function n(t){var r,i;return a()().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r={groupId:e,userId:t},n.next=3,(0,v.gF)(r);case 3:200==(i=n.sent).code?(d.ZP.success("删除成功"),T(1),N(!1)):d.ZP.error(i.msg);case 5:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),H=[{title:"用户账号",dataIndex:"email",key:"email"},{title:"操作",dataIndex:"action",key:"action",render:function(e,n){return(0,y.jsx)(y.Fragment,{children:(0,y.jsx)("a",{onClick:function(){N(!0),C(n)},children:"从该组别删除"})})}}];return(0,y.jsxs)(c._z,{children:[(0,y.jsx)(f.ZP,{type:"primary",onClick:function(){F(!0)},style:{marginBottom:30},children:"添加用户"},"primary"),(0,y.jsx)(p.Z,{dataSource:r,columns:H,pagination:!1}),(0,y.jsx)(m.Z,{total:null==k?void 0:k.total,style:{marginTop:10},pageSize:null==k?void 0:k.size,current:null==k?void 0:k.current,onChange:function(e){return T(e)}}),(0,y.jsx)(h.Z,{title:"添加用户",width:"400px",open:E,onCancel:function(){return F(!1)},onOk:function(){return q()},children:(0,y.jsxs)("div",{style:{display:"flex",flexDirection:"column",marginBottom:10},children:[(0,y.jsx)("div",{style:{fontSize:14,color:"#222",marginBottom:10},children:"用户帐号"}),(0,y.jsx)(x.Z,{placeholder:"请输入用户帐号",onChange:function(e){return D(e.target.value)},value:B})]})}),(0,y.jsx)(h.Z,{title:"删除用户",width:"400px",open:M,onCancel:function(){return N(!1)},onOk:function(){return G(I.userId)},children:(0,y.jsx)("div",{style:{display:"flex",flexDirection:"column",marginBottom:10},children:(0,y.jsxs)("div",{style:{fontSize:14,color:"#222",marginBottom:10},children:["确定从该组别删除用户：",I.email]})})})]})}}}]);