"use strict";(self.webpackChunkmars_admin=self.webpackChunkmars_admin||[]).push([[9366],{2067:function(e,r,t){t.r(r);var n=t(15009),i=t.n(n),a=t(97857),s=t.n(a),o=t(99289),c=t.n(o),u=t(5574),l=t.n(u),d=t(1450),h=t(2618),f=t(87547),p=t(94149),x=t(9325),m=t(9222),g=t(21836),v=t(38925),y=t(2453),w=t(11941),A=t(24444),j=t(67294),k=t(73935),b=t(67610),S=t(85893),Z=(0,A.kc)((function(e){var r=e.token;return{action:{marginLeft:"8px",color:"rgba(0, 0, 0, 0.2)",fontSize:"24px",verticalAlign:"middle",cursor:"pointer",transition:"color 0.3s","&:hover":{color:r.colorPrimaryActive}},lang:{width:42,height:42,lineHeight:"42px",position:"fixed",right:16,borderRadius:r.borderRadius,":hover":{backgroundColor:r.colorBgTextHover}},container:{display:"flex",flexDirection:"column",height:"100vh",overflow:"auto",backgroundImage:"url('https://mdn.alipayobjects.com/yuyan_qk0oxh/afts/img/V-_oS6r-i7wAAAAAAAAAAAAAFl94AQBr')",backgroundSize:"100% 100%"}}})),P=function(e){var r=e.content;return(0,S.jsx)(v.Z,{style:{marginBottom:24},message:r,type:"error",showIcon:!0})};r.default=function(){var e=(0,j.useState)({}),r=l()(e,2),t=r[0],n=r[1],a=(0,j.useState)("account"),o=l()(a,2),u=o[0],v=o[1],A=(0,g.useModel)("@@initialState"),I=(A.initialState,A.setInitialState),_=Z().styles,q=function(){var e=c()(i()().mark((function e(r){var t,a;return i()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,h.x4)(s()({},r));case 3:if(200!=(t=e.sent).code){e.next=14;break}return"登录成功！",y.ZP.success("登录成功！"),window.sessionStorage.setItem("userInfo",JSON.stringify(t.data)),(0,k.flushSync)((function(){I((function(e){return s()(s()({},e),{},{currentUser:t.data})}))})),a=new URL(window.location.href).searchParams,g.history.push(a.get("redirect")||"/"),e.abrupt("return");case 14:y.ZP.error(t.msg);case 15:n(t),e.next=22;break;case 18:e.prev=18,e.t0=e.catch(0),"登录失败，请重试！",y.ZP.error("登录失败，请重试！");case 22:case"end":return e.stop()}}),e,null,[[0,18]])})));return function(r){return e.apply(this,arguments)}}(),z=t.status,C=t.type;return(0,S.jsxs)("div",{className:_.container,children:[(0,S.jsx)(g.Helmet,{children:(0,S.jsxs)("title",{children:["登录","- ",b.Z.title]})}),(0,S.jsx)("div",{style:{flex:"1",padding:"32px 0"},children:(0,S.jsxs)(x.U,{contentStyle:{minWidth:280,maxWidth:"75vw"},title:"Mars Liquidity",initialValues:{autoLogin:!0},onFinish:function(){var e=c()(i()().mark((function e(r){return i()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,q(r);case 2:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}(),children:[(0,S.jsx)(w.Z,{activeKey:u,onChange:v,centered:!0,items:[{key:"account",label:"账户密码登录"}]}),"error"===z&&"account"===C&&(0,S.jsx)(P,{content:"错误的用户名和密码"}),"account"===u&&(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)(m.Z,{name:"loginName",fieldProps:{size:"large",prefix:(0,S.jsx)(f.Z,{})},placeholder:"请输入用户名",rules:[{required:!0,message:"用户名是必填项！"}]}),(0,S.jsx)(m.Z.Password,{name:"password",fieldProps:{size:"large",prefix:(0,S.jsx)(p.Z,{})},placeholder:"请输入密码",rules:[{required:!0,message:"密码是必填项！"}]})]})]})}),(0,S.jsx)(d.$_,{})]})}}}]);