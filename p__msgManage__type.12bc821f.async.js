"use strict";(self.webpackChunkmars_admin=self.webpackChunkmars_admin||[]).push([[8957],{49044:function(e,t,n){n.r(t);var a=n(15009),r=n.n(a),l=n(97857),i=n.n(l),s=n(99289),u=n.n(s),o=n(5574),c=n.n(o),d=n(2618),f=n(90930),p=n(2453),x=n(83622),y=n(34041),v=n(4930),g=n(78818),h=n(24426),m=n(78045),j=n(55102),S=n(67294),k=(n(40190),n(85893));t.default=function(){(0,S.useEffect)((function(){Re(1)}),[]);var e=(0,S.useState)([]),t=c()(e,2),n=t[0],a=t[1],l=(0,S.useState)({}),s=c()(l,2),o=s[0],C=s[1],b=(0,S.useState)({}),Z=c()(b,2),w=Z[0],z=Z[1],N=(0,S.useState)(!1),P=c()(N,2),B=P[0],I=P[1],T=(0,S.useState)(!1),D=c()(T,2),O=D[0],E=D[1],R=(0,S.useState)(!1),_=c()(R,2),L=_[0],F=_[1],G=(0,S.useState)(""),H=c()(G,2),K=H[0],V=H[1],W=(0,S.useState)(""),Y=c()(W,2),q=(Y[0],Y[1]),A=(0,S.useState)(""),J=c()(A,2),M=(J[0],J[1]),Q=(0,S.useState)(""),U=c()(Q,2),X=U[0],$=U[1],ee=(0,S.useState)("1"),te=c()(ee,2),ne=(te[0],te[1]),ae=(0,S.useState)(""),re=c()(ae,2),le=(re[0],re[1]),ie=(0,S.useState)(""),se=c()(ie,2),ue=(se[0],se[1],(0,S.useState)("0")),oe=c()(ue,2),ce=(oe[0],oe[1]),de=(0,S.useState)(""),fe=c()(de,2),pe=(fe[0],fe[1]),xe=(0,S.useState)(""),ye=c()(xe,2),ve=ye[0],ge=ye[1],he=(0,S.useState)(1),me=c()(he,2),je=me[0],Se=me[1],ke=(0,S.useState)([]),Ce=c()(ke,2),be=Ce[0],Ze=Ce[1],we=(0,S.useState)(""),ze=c()(we,2),Ne=ze[0],Pe=ze[1],Be=(0,S.useState)({language:"",typeName:"",category:""}),Ie=c()(Be,2),Te=Ie[0],De=Ie[1],Oe=(0,S.useState)(!1),Ee=c()(Oe,2),Re=(Ee[0],Ee[1],function(){var e=u()(r()().mark((function e(t){var n,l,s;return r()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=i()({pageNum:t,pageSize:10},Te),e.next=3,(0,d.Ct)(n);case 3:200==(l=e.sent).code&&(s=l.data.records.map((function(e){return i()({},e)})),a(s),C(l.data));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),_e=function(){var e=u()(r()().mark((function e(){var t,n,a,l=arguments;return r()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=l.length>0&&void 0!==l[0]?l[0]:1,e.next=3,(0,d.YR)(t);case 3:200==(n=e.sent).code&&(a=[],n.data.map((function(e){a.push({label:e,value:e})})),Ze(a));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Le=[{title:"语言",dataIndex:"language",key:"language",render:function(e,t){return(0,k.jsx)("div",{children:"en"==t.language?"英文":"zh-CN"==t.language?"简体中文":"vi"==t.language?"越南":"pt"==t.language?"葡萄牙":"es"==t.language?"西班牙":null})}},{title:"发送类型",dataIndex:"category",key:"category",render:function(e,t){return(0,k.jsx)("div",{children:1==t.category?"邮件":"手机"})}},{title:"类型名称",dataIndex:"typeName",key:"typeName"},{title:"创建时间",dataIndex:"createTime",key:"createTime"},{title:"更新时间",dataIndex:"updateTime",key:"updateTime"},{title:"操作",dataIndex:"action",key:"action",render:function(e,t){return(0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)("a",{style:{marginRight:10},onClick:function(){z(t),I(!0)},children:"修改"}),(0,k.jsx)("a",{style:{marginRight:10},onClick:function(){z(t),F(!0)},children:"删除"})]})}}],Fe=function(){var e=u()(r()().mark((function e(){var t,n;return r()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(X||ve){e.next=3;break}return p.ZP.warning("语言不能为空"),e.abrupt("return");case 3:return t={typeName:K,language:ve,category:je,cacheKey:Ne},e.next=6,(0,d.L3)(t);case 6:200==(n=e.sent).code?(p.ZP.success("新增成功"),Re(1),E(!1)):p.ZP.error(n.msg);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Ge=function(){var e=u()(r()().mark((function e(){var t,n;return r()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=i()({},w),e.next=3,(0,d.H3)(t);case 3:200==(n=e.sent).code?(p.ZP.success("修改成功"),I(!1),Re(1)):p.ZP.error(n.msg);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),He=function(){var e=u()(r()().mark((function e(){var t;return r()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,d.CO)(null==w?void 0:w.id);case 2:200==(t=e.sent).code?(p.ZP.success("删除成功"),Re(1),F(!1)):p.ZP.error(t.msg);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,S.useEffect)((function(){V(""),q(""),M(""),$(""),ce("0"),le(""),pe(""),ne("1"),ge(""),Pe(""),Se(1)}),[O]),(0,S.useEffect)((function(){M("")}),[B]),(0,k.jsxs)(f._z,{children:[(0,k.jsxs)("div",{style:{display:"flex",alignItems:"flex-end",marginTop:30,marginBottom:30,justifyContent:"space-between"},children:[(0,k.jsx)(x.ZP,{type:"primary",style:{},onClick:function(){E(!0),_e(1)},children:"新增类型"},"primary"),(0,k.jsxs)("div",{style:{display:"flex"},children:[(0,k.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[(0,k.jsx)("div",{style:{fontSize:14,color:"#222"},children:"语言："}),(0,k.jsx)(y.Z,{style:{width:120},value:Te.language,onChange:function(e){return De(i()(i()({},Te),{},{language:e}))},options:[{label:"简体中文",value:"zh-CN"},{label:"西班牙语",value:"es"},{label:"英文",value:"en"},{label:"越南",value:"vi"},{label:"葡萄牙",value:"pt"},{label:"全部",value:""}]})]}),(0,k.jsx)(x.ZP,{type:"primary",style:{marginLeft:10},onClick:function(){return Re(1)},children:"查询"},"primary")]})]}),(0,k.jsx)(v.Z,{dataSource:n,columns:Le,pagination:!1}),(0,k.jsx)(g.Z,{total:null==o?void 0:o.total,style:{marginTop:10},pageSize:null==o?void 0:o.size,current:null==o?void 0:o.current,onChange:function(e){return Re(e)}}),(0,k.jsxs)(h.Z,{title:"新增类型",open:O,onCancel:function(){return E(!1)},onOk:function(){return Fe()},children:[(0,k.jsx)(m.ZP.Group,{name:"radiogroup",defaultValue:"",value:je,style:{marginBottom:10},onChange:function(e){Se(e.target.value),_e(e.target.value),Pe("")},options:[{value:1,label:"邮箱"},{value:2,label:"短信"}]}),(0,k.jsx)("div",{style:{display:"flex",marginBottom:10},children:(0,k.jsxs)("div",{style:{display:"flex",flexDirection:"column"},children:[(0,k.jsx)("div",{style:{fontSize:14,color:"#222",marginBottom:10},children:"类型编码"}),(0,k.jsx)("div",{style:{fontSize:14,color:"#222",flex:1},children:(0,k.jsx)(y.Z,{style:{width:300},value:Ne,onChange:function(e){return Pe(e)},options:be})})]})}),(0,k.jsx)("div",{style:{display:"flex"},children:(0,k.jsx)("div",{style:{display:"flex",marginBottom:10},children:(0,k.jsxs)("div",{style:{display:"flex",flexDirection:"column"},children:[(0,k.jsx)("div",{style:{fontSize:14,color:"#222",marginBottom:10},children:"类型名称"}),(0,k.jsx)(j.Z,{style:{width:300},placeholder:"类型名称",value:K,onChange:function(e){return V(e.target.value)}})]})})}),(0,k.jsxs)("div",{style:{display:"flex",flexDirection:"column"},children:[(0,k.jsx)("div",{style:{fontSize:14,color:"#222",marginBottom:10},children:"语言"}),(0,k.jsx)("div",{style:{fontSize:14,color:"#222",flex:1},children:(0,k.jsx)(y.Z,{style:{width:120},value:ve,onChange:function(e){return ge(e)},options:[{label:"简体中文",value:"zh-CN"},{label:"西班牙语",value:"es"},{label:"英文",value:"en"},{label:"越南",value:"vi"},{label:"葡萄牙",value:"pt"}]})})]})]}),(0,k.jsx)(h.Z,{title:"修改类型",open:B,onCancel:function(){return I(!1)},onOk:function(){return Ge()},children:(0,k.jsx)("div",{style:{display:"flex"},children:(0,k.jsx)("div",{style:{display:"flex",marginBottom:10},children:(0,k.jsxs)("div",{style:{display:"flex",flexDirection:"column"},children:[(0,k.jsx)("div",{style:{fontSize:14,color:"#222",marginBottom:10},children:"类型名称"}),(0,k.jsx)(j.Z,{style:{width:300},placeholder:"类型名称",value:w.typeName,onChange:function(e){return z(i()(i()({},w),{},{typeName:e.target.value}))}})]})})})}),(0,k.jsx)(h.Z,{title:"删除类型",open:L,onCancel:function(){return F(!1)},onOk:function(){return He()},children:(0,k.jsxs)("div",{children:["是否删除该类型： ",(0,k.jsx)("span",{style:{fontWeight:"bold"},children:null==w?void 0:w.typeName})]})})]})}},40190:function(){}}]);