# Mars Liquid - è·¨é“¾ DeFi æµåŠ¨æ€§èšåˆå¹³å°

Mars Liquid æ˜¯ä¸€ä¸ªç°ä»£åŒ–çš„è·¨é“¾ DeFi åº”ç”¨ï¼Œé›†æˆäº†æ”¶ç›Šèšåˆã€DEX äº¤æ˜“ã€æµåŠ¨æ€§ç®¡ç†å’Œå€Ÿè´·åŠŸèƒ½ã€‚åŸºäº React 19ã€Material-UI v7 å’Œæœ€æ–°çš„ Solana/EVM Web3 æŠ€æœ¯æ„å»ºï¼Œä¸ºç”¨æˆ·æä¾›ä¸€ç«™å¼çš„ DeFi æœåŠ¡ä½“éªŒã€‚

## ğŸš€ æ ¸å¿ƒåŠŸèƒ½

### ğŸŒŠ Mars åè®®é›†æˆ
- **æ”¶ç›Šèšåˆ**: é€šè¿‡ Mars API é›†æˆ Kamino Earn å’Œ Jupiter Lend
- **Vault ç®¡ç†**: æŸ¥çœ‹å’Œç®¡ç† Vault æŒä»“
- **è·¨é“¾æ¡¥æ¥**: LI.FI åè®®é›†æˆï¼Œæ”¯æŒè·¨é“¾èµ„äº§è½¬ç§»
- **å®æ—¶æ•°æ®**: Vault çŠ¶æ€ã€ç”¨æˆ·æŒä»“ã€å†å²æ”¶ç›Šè¿½è¸ª
- **è‡ªåŠ¨å¤åˆ©**: æ™ºèƒ½æ”¶ç›Šå†æŠ•èµ„å’Œä¼˜åŒ–ç­–ç•¥

### ğŸ’± DEX äº¤æ˜“åŠŸèƒ½
- **ä»£å¸äº¤æ¢**: æ”¯æŒ Solana SPL å’Œ EVM ERC-20 ä»£å¸
- **æµåŠ¨æ€§ç®¡ç†**: æ·»åŠ /ç§»é™¤æµåŠ¨æ€§ï¼Œèµšå–æ‰‹ç»­è´¹
- **å¤šé“¾æ”¯æŒ**: Solana, BSC, Ethereum, Polygon, Avalanche
- **å®æ—¶ä»·æ ¼**: WebSocket å®æ—¶ä»·æ ¼æ¨é€
- **äº¤æ˜“å†å²**: å®Œæ•´çš„äº¤æ˜“è®°å½•å’Œåˆ†æ

### ğŸ’¼ æŠ•èµ„ç»„åˆç®¡ç†
- **å¤šé“¾èµ„äº§**: ç»Ÿä¸€æŸ¥çœ‹ Solana å’Œ EVM é“¾ä¸Šèµ„äº§
- **æŒä»“è¿½è¸ª**: å®æ—¶ Vault æŒä»“å’Œæ”¶ç›Šæ˜¾ç¤º
- **é£é™©åˆ†æ**: LTV æ¯”ç‡ã€æ¸…ç®—é£é™©ç›‘æ§
- **æ”¶ç›Šç»Ÿè®¡**: å†å²æ”¶ç›Šã€APY è¿½è¸ªå’Œæ€§èƒ½åˆ†æ
- **Mars Positions**: ä¸“é—¨çš„ Mars åè®®æŒä»“é¢æ¿

### ğŸ” å¤šé’±åŒ…æ”¯æŒ
- **Solana é’±åŒ…**: Phantom, Solflare, Backpack
- **EVM é’±åŒ…**: MetaMask, WalletConnect, Coinbase Wallet
- **ç»Ÿä¸€ç•Œé¢**: æ— ç¼åˆ‡æ¢ä¸åŒé’±åŒ…å’Œç½‘ç»œ
- **ç½‘ç»œç®¡ç†**: è½»æ¾åœ¨æ”¯æŒçš„åŒºå—é“¾é—´åˆ‡æ¢

### ğŸ¨ ç°ä»£åŒ–è®¾è®¡
- **Material-UI v7**: æœ€æ–°çš„ Material Design ç»„ä»¶
- **å“åº”å¼è®¾è®¡**: å®Œç¾é€‚é…æ¡Œé¢å’Œç§»åŠ¨è®¾å¤‡
- **æ·±è‰²æ¨¡å¼**: æŠ¤çœ¼æ·±è‰²ä¸»é¢˜
- **æµç•…åŠ¨ç”»**: ä¸“ä¸šçš„äº¤äº’ä½“éªŒ

## ğŸ—ï¸ æŠ€æœ¯æ¶æ„

### å‰ç«¯æŠ€æœ¯æ ˆ
- **React 19**: æœ€æ–°çš„å¹¶å‘ç‰¹æ€§å’Œå¢å¼ºæ¸²æŸ“æ€§èƒ½
- **TypeScript**: å…¨æ ˆç±»å‹å®‰å…¨ä¿éšœ
- **Material-UI v7**: ç°ä»£åŒ–çš„è®¾è®¡ç³»ç»Ÿå’Œç»„ä»¶åº“
- **Vite**: é—ªç”µèˆ¬çš„æ„å»ºå·¥å…·å’Œçƒ­æ›´æ–°
- **React Router v7**: æœ€æ–°çš„è·¯ç”±å’Œæ•°æ®åŠ è½½èƒ½åŠ›

### Web3 é›†æˆ
- **Solana ç”Ÿæ€**:
  - `@solana/web3.js` v1.98 - Solana æ ¸å¿ƒåº“
  - `@solana/wallet-adapter` - é’±åŒ…é€‚é…å™¨ç”Ÿæ€
  - Phantom, Solflare, Backpack é’±åŒ…æ”¯æŒ
  
- **EVM å…¼å®¹**:
  - `wagmi` v2.12 - React Hooks for Ethereum
  - `viem` v2.21 - TypeScript ä»¥å¤ªåŠæ¥å£
  - `@rainbow-me/rainbowkit` - é’±åŒ…è¿æ¥ UI
  - MetaMask, WalletConnect, Trust Wallet æ”¯æŒ

### DeFi åè®®é›†æˆ
- **Mars Protocol**: 
  - Mars API (`https://api.marsliquidity.com`)
  - Vault ç®¡ç†å’ŒæŒä»“è¿½è¸ª
  - è·¨é“¾æ¡¥æ¥ï¼ˆLI.FIï¼‰
  
- **Kamino Finance**:
  - `@kamino-finance/klend-sdk` v7.1.8
  - `@kamino-finance/farms-sdk` v3.2.13
  - æ”¶ç›Šä¼˜åŒ–å’ŒæµåŠ¨æ€§æŒ–çŸ¿
  
- **Jupiter Protocol**:
  - Jupiter Aggregator é›†æˆ
  - æœ€ä½³ä»·æ ¼è·¯ç”±
  
- **Meteora DLMM**:
  - `@lb-xyz/sdk` v5.0.14
  - é›†ä¸­æµåŠ¨æ€§æ± ç®¡ç†
  
- **LI.FI Protocol**:
  - `@lifi/sdk` v3.12.14
  - è·¨é“¾æ¡¥æ¥å’Œèµ„äº§è½¬ç§»

### çŠ¶æ€ç®¡ç†ä¸æ•°æ®
- **Zustand**: è½»é‡çº§çŠ¶æ€ç®¡ç†
- **React Query**: æœåŠ¡ç«¯çŠ¶æ€åŒæ­¥
- **WebSocket**: å®æ—¶ä»·æ ¼æ¨é€
- **LocalStorage**: æœ¬åœ°æ•°æ®æŒä¹…åŒ–

## ğŸ“± åº”ç”¨é¡µé¢

### ğŸŠ XLiquid é¡µé¢ (`/xliquid`)
- **Mars Vaults å±•ç¤º**: æŸ¥çœ‹æ‰€æœ‰å¯ç”¨çš„ Vault åŠå…¶ APY
- **å­˜æ¬¾ç•Œé¢**: å­˜å…¥èµ„äº§åˆ° Vault èµšå–æ”¶ç›Š
- **ææ¬¾ç•Œé¢**: ä» Vault æå–èµ„äº§
- **å®æ—¶æ•°æ®**: Vault TVLã€APYã€ç”¨æˆ·ä»½é¢å®æ—¶æ›´æ–°

### ğŸ“Š Portfolio é¡µé¢ (`/portfolio`)
- **Mars Positions**: å®Œæ•´çš„ Mars åè®®æŒä»“æ€»è§ˆ
- **å¤šé“¾èµ„äº§**: Solanaã€BSCã€Ethereum èµ„äº§ç»Ÿä¸€å±•ç¤º
- **æ”¶ç›Šè¿½è¸ª**: å†å²æ”¶ç›Šã€APY å˜åŒ–å’Œæ€§èƒ½åˆ†æ
- **é£é™©æŒ‡æ ‡**: LTV æ¯”ç‡ã€æ¸…ç®—é£é™©ã€å®‰å…¨è¾¹é™…è®¡ç®—

### ğŸ’± Swap é¡µé¢ (`/swap`)
- **ä»£å¸äº¤æ¢**: æ”¯æŒ Solana SPL å’Œ EVM ERC-20 ä»£å¸
- **æ™ºèƒ½è·¯ç”±**: è‡ªåŠ¨å¯»æ‰¾æœ€ä½³äº¤æ˜“è·¯å¾„
- **å®æ—¶ä»·æ ¼**: WebSocket å®æ—¶ä»·æ ¼æ›´æ–°
- **æ»‘ç‚¹ä¿æŠ¤**: å¯é…ç½®çš„æ»‘ç‚¹å®¹å¿åº¦

### ğŸŠ Pool é¡µé¢ (`/pool`)
- **æµåŠ¨æ€§æ± **: æŸ¥çœ‹æ‰€æœ‰å¯ç”¨çš„æµåŠ¨æ€§æ± 
- **æ·»åŠ æµåŠ¨æ€§**: æä¾›æµåŠ¨æ€§èµšå–äº¤æ˜“æ‰‹ç»­è´¹
- **ç§»é™¤æµåŠ¨æ€§**: æå–æµåŠ¨æ€§å’Œç´¯ç§¯çš„æ‰‹ç»­è´¹
- **æ± ç»Ÿè®¡**: TVLã€äº¤æ˜“é‡ã€æ‰‹ç»­è´¹æ”¶å…¥

### ğŸ’³ Wallet é¡µé¢ (`/wallet`)
- **å¤šé’±åŒ…ç®¡ç†**: è¿æ¥å’Œåˆ‡æ¢ Solana/EVM é’±åŒ…
- **èµ„äº§ä½™é¢**: å®æ—¶æŸ¥çœ‹æ‰€æœ‰ä»£å¸ä½™é¢
- **ç½‘ç»œåˆ‡æ¢**: è½»æ¾åœ¨ä¸åŒåŒºå—é“¾é—´åˆ‡æ¢
- **äº¤æ˜“å†å²**: å®Œæ•´çš„é’±åŒ…äº¤æ˜“è®°å½•

### ğŸ“ˆ XStock é¡µé¢ (`/xstock`)
- **æ”¶ç›Šä»ªè¡¨æ¿**: æ€»è§ˆæ‰€æœ‰æŠ•èµ„å’Œæ”¶ç›Š
- **APY æ¯”è¾ƒ**: ä¸åŒ Vault å’Œåè®®çš„æ”¶ç›Šå¯¹æ¯”
- **å†å²æ•°æ®**: æ”¶ç›Šå†å²å›¾è¡¨å’Œè¶‹åŠ¿åˆ†æ

### ğŸ¯ XFund é¡µé¢ (`/xfund`)
- **èµ„é‡‘ç®¡ç†**: ä¸“ä¸šçš„èµ„é‡‘é…ç½®ç•Œé¢
- **ç­–ç•¥é€‰æ‹©**: ä¸åŒé£é™©ç­‰çº§çš„æŠ•èµ„ç­–ç•¥
- **è‡ªåŠ¨å†å¹³è¡¡**: æ™ºèƒ½èµ„äº§åˆ†é…ä¼˜åŒ–

## ğŸŒ æ”¯æŒçš„ç½‘ç»œ

| ç½‘ç»œ | Chain ID | çŠ¶æ€ | åŠŸèƒ½ç‰¹æ€§ | RPC ç«¯ç‚¹ |
|------|----------|------|----------|----------|
| **Solana Mainnet** | - | âœ… **ç”Ÿäº§ç¯å¢ƒ** | Mars åè®®ã€Jupiterã€Kamino | Helius RPC |
| **Solana Devnet** | - | âœ… **æµ‹è¯•ç¯å¢ƒ** | å®Œæ•´åŠŸèƒ½ã€æµ‹è¯•ä»£å¸ | Public RPC |
| **BSC Mainnet** | 56 | âœ… **ç”Ÿäº§ç¯å¢ƒ** | DEX äº¤æ˜“ã€è·¨é“¾æ¡¥æ¥ | BSC RPC |
| **BSC Testnet** | 97 | âœ… **æµ‹è¯•ç¯å¢ƒ** | å®Œæ•´ DEX åŠŸèƒ½ | BSC Testnet RPC |
| **Ethereum Mainnet** | 1 | ğŸ”„ **å‡†å¤‡ä¸­** | L1 æµåŠ¨æ€§ã€é«˜çº§ DeFi | Alchemy/Infura |
| **Polygon** | 137 | ğŸ”„ **è§„åˆ’ä¸­** | ä½è´¹ç”¨äº¤æ˜“ | Polygon RPC |
| **Avalanche** | 43114 | ğŸ”„ **è§„åˆ’ä¸­** | é«˜æ€§èƒ½äº¤æ˜“ | Avalanche RPC |

### ç½‘ç»œç‰¹æ€§
- **Solana**: åŸç”Ÿ SPL ä»£å¸ã€Mars åè®®ã€Jupiter èšåˆå™¨ã€Kamino Earn
- **è·¨é“¾æ¡¥æ¥**: LI.FI åè®®æ”¯æŒæ‰€æœ‰ä¸»æµé“¾é—´èµ„äº§è½¬ç§»
- **å®æ—¶é¢„è¨€æœº**: Pyth (Solana) å’Œ Chainlink (EVM) ä»·æ ¼æ•°æ®
- **Mars API**: æ‰€æœ‰ç½‘ç»œç»Ÿä¸€çš„åç«¯ API (`https://api.marsliquidity.com`)

## ğŸ› ï¸ å¼€å‘ç¯å¢ƒè®¾ç½®

### ç¯å¢ƒè¦æ±‚
- **Node.js 20.19+** æˆ– **22.12+** (æ”¯æŒæœ€æ–°çš„ ES ç‰¹æ€§)
- **npm 9.0+** æˆ– **yarn 1.22+**
- **Git** ç‰ˆæœ¬æ§åˆ¶
- **Solana é’±åŒ…** (Phantom, Solflare, Backpack) æˆ– **EVM é’±åŒ…** (MetaMask) ç”¨äºæµ‹è¯•

### å¿«é€Ÿå¼€å§‹

[![Deploy to Cloudflare Pages](https://deploy.workers.cloudflare.com/button)](https://deploy.workers.cloudflare.com/?url=https://github.com/jong-un-1/mars-liquid)

```bash
# å…‹éš†é¡¹ç›®
git clone https://github.com/jong-un-1/mars-liquid.git
cd mars-liquid/frontend

# å®‰è£…ä¾èµ–ï¼ˆéœ€è¦ Node.js 20+ï¼‰
npm install

# å¯åŠ¨å¼€å‘æœåŠ¡å™¨
npm run dev

# åº”ç”¨å°†åœ¨ http://localhost:5173 æ‰“å¼€
# Mars API åç«¯: https://api.marsliquidity.com
```

### ç¯å¢ƒé…ç½®

åˆ›å»º `.env` æ–‡ä»¶è¿›è¡Œè‡ªå®šä¹‰é…ç½®ï¼š

```env
# Mars API é…ç½®
VITE_MARS_API_URL=https://api.marsliquidity.com

# Solana é…ç½®
VITE_SOLANA_RPC_URL=https://mainnet.helius-rpc.com/?api-key=your-api-key
VITE_SOLANA_DEVNET_RPC_URL=https://api.devnet.solana.com
VITE_SOLANA_CLUSTER=mainnet-beta

# EVM RPC é…ç½®ï¼ˆå¯é€‰ï¼‰
VITE_ALCHEMY_API_KEY=your_alchemy_key
VITE_INFURA_PROJECT_ID=your_infura_project_id
VITE_BSC_RPC_URL=https://bsc-dataseed1.binance.org

# å¼€å‘è®¾ç½®
VITE_NETWORK_ENV=mainnet
VITE_DEBUG_MODE=false
VITE_ENABLE_ANALYTICS=true

# Privy é…ç½®ï¼ˆé’±åŒ…è¿æ¥ï¼‰
VITE_PRIVY_APP_ID=your_privy_app_id
```

### åç«¯æœåŠ¡é…ç½®ï¼ˆå¯é€‰ï¼‰

å¦‚æœéœ€è¦æœ¬åœ°è¿è¡Œåç«¯ï¼š

```bash
# è¿›å…¥åç«¯ç›®å½•
cd ../backend

# å®‰è£…åç«¯ä¾èµ–
npm install

# é…ç½®ç¯å¢ƒ
# å‚è€ƒ backend/README.md è¿›è¡Œé…ç½®

# éƒ¨ç½²åˆ° Cloudflare Workers
npm run deploy
```

## ğŸ”§ æ„å»ºä¸éƒ¨ç½²

### å¼€å‘å‘½ä»¤

```bash
# å¯åŠ¨å¼€å‘æœåŠ¡å™¨ï¼ˆå¸¦çƒ­é‡è½½ï¼‰
npm run dev

# æ„å»ºç”Ÿäº§ç‰ˆæœ¬
npm run build

# æœ¬åœ°é¢„è§ˆç”Ÿäº§æ„å»º
npm run preview

# ä»£ç æ£€æŸ¥å’Œæ ¼å¼åŒ–
npm run lint

# ç‰ˆæœ¬ç®¡ç†
npm run version:patch      # è¡¥ä¸ç‰ˆæœ¬ (1.0.0 -> 1.0.1)
npm run version:minor      # æ¬¡è¦ç‰ˆæœ¬ (1.0.0 -> 1.1.0)
npm run version:major      # ä¸»è¦ç‰ˆæœ¬ (1.0.0 -> 2.0.0)
```

### ç”Ÿäº§éƒ¨ç½²

#### Cloudflare Pages éƒ¨ç½²

```bash
# æ„å»ºä¼˜åŒ–çš„ç”Ÿäº§åŒ…
npm run build

# éƒ¨ç½²åˆ° Cloudflare Pages
npm run deploy

# æˆ–ä½¿ç”¨ wrangler ç›´æ¥éƒ¨ç½²
npx wrangler pages deploy dist --project-name mars
```

#### å…¶ä»–å¹³å°éƒ¨ç½²

```bash
# Vercel éƒ¨ç½²
npm run build
vercel deploy --prod

# Netlify éƒ¨ç½²
npm run build
netlify deploy --prod --dir=dist

# AWS S3 + CloudFront éƒ¨ç½²
npm run build
aws s3 sync dist/ s3://your-bucket
aws cloudfront create-invalidation --distribution-id YOUR_ID --paths "/*"
```

### æ„å»ºä¼˜åŒ–ç‰¹æ€§

- âœ… **Tree Shaking**: è‡ªåŠ¨æ¶ˆé™¤æœªä½¿ç”¨çš„ä»£ç 
- âœ… **Code Splitting**: åŠ¨æ€å¯¼å…¥ä¼˜åŒ–åŒ…å¤§å°
- âœ… **Asset Optimization**: è‡ªåŠ¨å›¾ç‰‡å’Œèµ„æºå‹ç¼©
- âœ… **Modern JS**: ES2020+ ç›®æ ‡ï¼Œæ”¯æŒç°ä»£æµè§ˆå™¨
- âœ… **Lazy Loading**: è·¯ç”±çº§ä»£ç åˆ†å‰²
- âœ… **Gzip/Brotli**: è‡ªåŠ¨å‹ç¼©è¾“å‡ºæ–‡ä»¶

## ğŸ—ï¸ é¡¹ç›®ç»“æ„

```
frontend/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ components/              # å¯å¤ç”¨ UI ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ MainNavigation.tsx   # ä¸»å¯¼èˆªï¼ˆå¸¦é’±åŒ…é›†æˆï¼‰
â”‚   â”‚   â”œâ”€â”€ WalletConnector.tsx  # é’±åŒ…è¿æ¥ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ MarsPositions.tsx    # Mars æŒä»“å±•ç¤º
â”‚   â”‚   â”œâ”€â”€ MarsWalletTracker.tsx # Mars é’±åŒ…è¿½è¸ª
â”‚   â”‚   â”œâ”€â”€ UnifiedWalletButton.tsx # ç»Ÿä¸€é’±åŒ…æŒ‰é’®
â”‚   â”‚   â”œâ”€â”€ NetworkStatus.tsx    # ç½‘ç»œçŠ¶æ€æ˜¾ç¤º
â”‚   â”‚   â”œâ”€â”€ TransactionProgress.tsx # äº¤æ˜“è¿›åº¦
â”‚   â”‚   â”œâ”€â”€ pool/                # æµåŠ¨æ€§æ± ç»„ä»¶
â”‚   â”‚   â””â”€â”€ examples/            # ç¤ºä¾‹å®ç°
â”‚   â”‚
â”‚   â”œâ”€â”€ pages/                   # ä¸»è¦åº”ç”¨é¡µé¢
â”‚   â”‚   â”œâ”€â”€ XLiquid.tsx          # Mars Vault ç®¡ç†
â”‚   â”‚   â”œâ”€â”€ Portfolio.tsx        # æŠ•èµ„ç»„åˆæ€»è§ˆ
â”‚   â”‚   â”œâ”€â”€ Swap.tsx             # ä»£å¸äº¤æ¢ç•Œé¢
â”‚   â”‚   â”œâ”€â”€ Pool.tsx             # æµåŠ¨æ€§æ± ç®¡ç†
â”‚   â”‚   â”œâ”€â”€ AddLiquidity.tsx     # æ·»åŠ æµåŠ¨æ€§
â”‚   â”‚   â”œâ”€â”€ Wallet.tsx           # é’±åŒ…ç®¡ç†
â”‚   â”‚   â”œâ”€â”€ XStock.tsx           # æ”¶ç›Šä»ªè¡¨æ¿
â”‚   â”‚   â””â”€â”€ XFund.tsx            # èµ„é‡‘ç®¡ç†
â”‚   â”‚
â”‚   â”œâ”€â”€ hooks/                   # React Hooks
â”‚   â”‚   â”œâ”€â”€ useMarsApi.ts        # Mars API é›†æˆ
â”‚   â”‚   â”œâ”€â”€ useMarsContract.ts   # Mars åˆçº¦äº¤äº’
â”‚   â”‚   â”œâ”€â”€ useMarsData.ts       # Mars æ•°æ®è·å–
â”‚   â”‚   â”œâ”€â”€ useVaultData.ts      # Vault æ•°æ®
â”‚   â”‚   â”œâ”€â”€ useUserVaultPosition.ts # ç”¨æˆ·æŒä»“
â”‚   â”‚   â”œâ”€â”€ useVaultHistoricalData.ts # å†å²æ•°æ®
â”‚   â”‚   â”œâ”€â”€ useSolanaBalance.ts  # Solana ä½™é¢
â”‚   â”‚   â””â”€â”€ useMarsWalletConnection.ts # é’±åŒ…è¿æ¥
â”‚   â”‚
â”‚   â”œâ”€â”€ services/                # ä¸šåŠ¡é€»è¾‘æœåŠ¡
â”‚   â”‚   â”œâ”€â”€ marsApiService.ts    # Mars API æœåŠ¡
â”‚   â”‚   â”œâ”€â”€ marsContract.ts      # åˆçº¦äº¤äº’
â”‚   â”‚   â”œâ”€â”€ kaminoSdkHelper.ts   # Kamino SDK
â”‚   â”‚   â”œâ”€â”€ balanceService.ts    # ä½™é¢æŸ¥è¯¢
â”‚   â”‚   â””â”€â”€ ...
â”‚   â”‚
â”‚   â”œâ”€â”€ dex/                     # DEX é›†æˆ
â”‚   â”‚   â”œâ”€â”€ dexConfig.ts         # DEX é…ç½®
â”‚   â”‚   â”œâ”€â”€ tokenConfig.ts       # ä»£å¸é…ç½®
â”‚   â”‚   â”œâ”€â”€ networkTokens.ts     # ç½‘ç»œä»£å¸åˆ—è¡¨
â”‚   â”‚   â”œâ”€â”€ wagmiConfig.ts       # Wagmi é…ç½®
â”‚   â”‚   â”œâ”€â”€ viemClient.ts        # Viem å®¢æˆ·ç«¯
â”‚   â”‚   â”œâ”€â”€ lbSdkConfig.ts       # Meteora SDK
â”‚   â”‚   â”œâ”€â”€ hooks/               # DEX Hooks
â”‚   â”‚   â”œâ”€â”€ services/            # DEX æœåŠ¡
â”‚   â”‚   â”œâ”€â”€ utils/               # DEX å·¥å…·
â”‚   â”‚   â””â”€â”€ abis/                # åˆçº¦ ABI
â”‚   â”‚
â”‚   â”œâ”€â”€ config/                  # é…ç½®æ–‡ä»¶
â”‚   â”‚   â”œâ”€â”€ api.ts               # API é…ç½®
â”‚   â”‚   â”œâ”€â”€ networkConfig.ts     # ç½‘ç»œé…ç½®
â”‚   â”‚   â”œâ”€â”€ privyConfig.ts       # Privy é…ç½®
â”‚   â”‚   â””â”€â”€ solanaWalletConfig.tsx # Solana é’±åŒ…é…ç½®
â”‚   â”‚
â”‚   â”œâ”€â”€ stores/                  # çŠ¶æ€ç®¡ç†
â”‚   â”‚   â””â”€â”€ ...                  # Zustand stores
â”‚   â”‚
â”‚   â”œâ”€â”€ utils/                   # å·¥å…·å‡½æ•°
â”‚   â”‚   â””â”€â”€ ...
â”‚   â”‚
â”‚   â”œâ”€â”€ idl/                     # Solana ç¨‹åº IDL
â”‚   â”‚   â””â”€â”€ mars.json            # Mars ç¨‹åº IDL
â”‚   â”‚
â”‚   â”œâ”€â”€ assets/                  # é™æ€èµ„æº
â”‚   â”‚   â””â”€â”€ ...
â”‚   â”‚
â”‚   â”œâ”€â”€ main.tsx                 # åº”ç”¨å…¥å£
â”‚   â”œâ”€â”€ theme.ts                 # MUI ä¸»é¢˜é…ç½®
â”‚   â””â”€â”€ index.css                # å…¨å±€æ ·å¼
â”‚
â”œâ”€â”€ public/                      # å…¬å…±èµ„æº
â”‚   â””â”€â”€ _redirects               # Cloudflare Pages é‡å®šå‘
â”‚
â”œâ”€â”€ .github/                     # GitHub é…ç½®
â”‚   â”œâ”€â”€ workflows/               # CI/CD å·¥ä½œæµ
â”‚   â”œâ”€â”€ copilot-instructions.md  # Copilot æŒ‡ä»¤
â”‚   â””â”€â”€ chatmodes/               # èŠå¤©æ¨¡å¼
â”‚
â”œâ”€â”€ vite.config.ts               # Vite é…ç½®
â”œâ”€â”€ tsconfig.json                # TypeScript é…ç½®
â”œâ”€â”€ eslint.config.js             # ESLint é…ç½®
â”œâ”€â”€ package.json                 # é¡¹ç›®ä¾èµ–
â”œâ”€â”€ API_DOCUMENTATION.md         # API æ–‡æ¡£
â””â”€â”€ README.md                    # é¡¹ç›®è¯´æ˜
```

## ğŸ”Œ æ ¸å¿ƒé›†æˆ

### Mars Protocol API

```typescript
import { useMarsApi } from '@/hooks/useMarsApi';

function VaultDashboard() {
  const { vaults, loading, error } = useMarsApi();
  
  return (
    <div>
      {vaults.map(vault => (
        <VaultCard key={vault.address} vault={vault} />
      ))}
    </div>
  );
}
```

### Solana é’±åŒ…è¿æ¥

```typescript
import { useWallet } from '@solana/wallet-adapter-react';
import { WalletMultiButton } from '@solana/wallet-adapter-react-ui';

function WalletButton() {
  const { publicKey, connected } = useWallet();
  
  return <WalletMultiButton />;
}
```

### EVM é’±åŒ…è¿æ¥

```typescript
import { useAccount, useConnect } from 'wagmi';

function EvmWallet() {
  const { address, isConnected } = useAccount();
  const { connect, connectors } = useConnect();
  
  return (
    <button onClick={() => connect({ connector: connectors[0] })}>
      Connect MetaMask
    </button>
  );
}
```

### Kamino SDK ä½¿ç”¨

```typescript
import { useKaminoVault } from '@/hooks/useKaminoVault';

function KaminoDeposit() {
  const { deposit, loading } = useKaminoVault();
  
  const handleDeposit = async (amount: number) => {
    await deposit(amount);
  };
  
  return <DepositForm onSubmit={handleDeposit} />;
}
```

## ğŸ“š ç›¸å…³æ–‡æ¡£

- ğŸ“– [API æ–‡æ¡£](./API_DOCUMENTATION.md) - å®Œæ•´çš„ API ä½¿ç”¨è¯´æ˜
- ğŸ“– [åç«¯ API](../backend/docs/mars-dex-api.md) - åç«¯ API å‚è€ƒ
- ğŸ“– [æ™ºèƒ½åˆçº¦](../contracts-solana/README.md) - Solana æ™ºèƒ½åˆçº¦
- ğŸ“– [éƒ¨ç½²æŒ‡å—](../backend/SETUP_GUIDE.md) - å®Œæ•´éƒ¨ç½²æŒ‡å—

## ğŸ›¡ï¸ å®‰å…¨æ€§

### é’±åŒ…å®‰å…¨
- âœ… ä¸å­˜å‚¨ç§é’¥ï¼Œæ‰€æœ‰ç­¾ååœ¨é’±åŒ…ä¸­å®Œæˆ
- âœ… äº¤æ˜“å‰æ˜¾ç¤ºå®Œæ•´çš„äº¤æ˜“è¯¦æƒ…
- âœ… æ”¯æŒç¡¬ä»¶é’±åŒ…ï¼ˆLedgerï¼‰
- âœ… ç½‘ç»œåˆ‡æ¢ç¡®è®¤æç¤º

### æ™ºèƒ½åˆçº¦å®‰å…¨
- âœ… å®¡è®¡è¿‡çš„åˆçº¦åœ°å€ç¡¬ç¼–ç 
- âœ… äº¤æ˜“å‚æ•°éªŒè¯
- âœ… æ»‘ç‚¹ä¿æŠ¤
- âœ… å‰ç«¯äº¤æ˜“æ¨¡æ‹Ÿ

### æ•°æ®å®‰å…¨
- âœ… HTTPS å¼ºåˆ¶åŠ å¯†
- âœ… API è¯·æ±‚ç­¾åéªŒè¯
- âœ… æœ¬åœ°æ•°æ®åŠ å¯†å­˜å‚¨
- âœ… XSS/CSRF é˜²æŠ¤

## ğŸ§ª æµ‹è¯•

### è¿è¡Œæµ‹è¯•

```bash
# è¿è¡Œå•å…ƒæµ‹è¯•
npm run test

# è¿è¡Œæµ‹è¯•è¦†ç›–ç‡
npm run test:coverage

# E2E æµ‹è¯•
npm run test:e2e
```

### æµ‹è¯•è„šæœ¬

```bash
# æµ‹è¯•é’±åŒ…ä½™é¢
node test-wallet-balance.js

# è°ƒè¯•ä»·æ ¼æ•°æ®
node debug-price.js
```

## ğŸ¤ è´¡çŒ®æŒ‡å—

### å¼€å‘æµç¨‹

```bash
# 1. Fork é¡¹ç›®
git clone https://github.com/your-username/mars-liquid.git
cd mars-liquid/frontend

# 2. åˆ›å»ºåŠŸèƒ½åˆ†æ”¯
git checkout -b feature/your-feature

# 3. å¼€å‘å’Œæµ‹è¯•
npm run dev
npm run lint

# 4. æäº¤æ›´æ”¹
git commit -m "feat: add your feature"

# 5. æ¨é€å¹¶åˆ›å»º Pull Request
git push origin feature/your-feature
```

### ä»£ç è§„èŒƒ

- **TypeScript**: ä¸¥æ ¼ç±»å‹æ£€æŸ¥
- **ESLint**: éµå¾ªé¡¹ç›® ESLint é…ç½®
- **Prettier**: è‡ªåŠ¨ä»£ç æ ¼å¼åŒ–
- **Commit**: ä½¿ç”¨è¯­ä¹‰åŒ–æäº¤æ¶ˆæ¯ï¼ˆfeat, fix, docs, etc.ï¼‰
- **æµ‹è¯•**: æ–°åŠŸèƒ½éœ€è¦åŒ…å«æµ‹è¯•ç”¨ä¾‹

## ğŸ“ æ”¯æŒä¸åé¦ˆ

- ğŸ› **Bug æŠ¥å‘Š**: [GitHub Issues](https://github.com/jong-un-1/mars-liquid/issues)
- ğŸ’¡ **åŠŸèƒ½å»ºè®®**: [GitHub Discussions](https://github.com/jong-un-1/mars-liquid/discussions)
- ğŸ“§ **é‚®ä»¶è”ç³»**: support@mars-liquid.finance
- ğŸ’¬ **Discord**: [Mars Liquid Community](https://discord.gg/mars-liquid)

## ğŸ”— ç›¸å…³é“¾æ¥

- **å®˜æ–¹ç½‘ç«™**: [mars-liquid.finance](https://mars-liquid.finance)
- **åº”ç”¨ç¨‹åº**: [app.mars-liquid.finance](https://app.mars-liquid.finance)
- **Mars API**: [api.marsliquidity.com](https://api.marsliquidity.com)
- **GitHub**: [github.com/jong-un-1/mars-liquid](https://github.com/jong-un-1/mars-liquid)
- **ä¸»é¡¹ç›® README**: [../README.md](../README.md)
- **åç«¯é¡¹ç›®**: [../backend](../backend)
- **æ™ºèƒ½åˆçº¦**: [../contracts-solana](../contracts-solana)
- **ç®¡ç†åå°**: [../mars-admin](../mars-admin)

## ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨ [MIT License](../LICENSE) å¼€æºåè®®ã€‚

---

**å¼€å‘å›¢é˜Ÿ**: Mars Liquid Protocol Team  
**é¡¹ç›®ç‰ˆæœ¬**: 1.0.0  
**React ç‰ˆæœ¬**: 19  
**Material-UI ç‰ˆæœ¬**: 7  
**æœ€åæ›´æ–°**: 2025å¹´10æœˆ

**Mars Liquid Frontend** - ç°ä»£åŒ–çš„è·¨é“¾ DeFi å¹³å° ğŸš€
â”‚   â”‚   â”œâ”€â”€ Portfolio.tsx    # Portfolio dashboard
â”‚   â”‚   â””â”€â”€ Wallet.tsx       # Wallet connection and overview
â”‚   â”œâ”€â”€ dex/                 # DEX core functionality
â”‚   â”‚   â”œâ”€â”€ hooks/           # Custom React hooks for DEX operations
â”‚   â”‚   â”œâ”€â”€ services/        # API services and price feeds
â”‚   â”‚   â”œâ”€â”€ utils/           # Utility functions
â”‚   â”‚   â”œâ”€â”€ types/           # TypeScript type definitions
â”‚   â”‚   â”œâ”€â”€ abis/            # Smart contract ABIs
â”‚   â”‚   â””â”€â”€ config files     # Network and token configurations
â”‚   â””â”€â”€ assets/              # Static assets and images
â”œâ”€â”€ backend/                 # Cloudflare Workers backend
â”‚   â”œâ”€â”€ src/                 # Backend source code
â”‚   â”œâ”€â”€ test/                # Backend tests
â”‚   â””â”€â”€ config files         # Worker configurations
â””â”€â”€ public/                  # Public static files
```

### Key Directories
- **`src/dex/hooks/`**: Custom hooks for DEX operations (swapping, liquidity, etc.)
- **`src/dex/services/`**: Price feeds, API integrations, and external services
- **`src/components/pool/`**: Specialized components for liquidity management
- **`backend/`**: Optional serverless backend for enhanced features

## ğŸ” Security & Performance Features

### Security Implementation
- âœ… **Wallet Security**: Industry-standard secure connection protocols
- âœ… **Slippage Protection**: Configurable tolerance levels with smart defaults
- âœ… **Price Impact Analysis**: Real-time impact calculations and warnings
- âœ… **Transaction Monitoring**: Complete transaction lifecycle tracking
- âœ… **Input Validation**: Comprehensive sanitization and validation
- âœ… **Error Handling**: Graceful error recovery and user feedback
- âœ… **Smart Contract Safety**: Extensive testing and validation of contract interactions

### Performance Optimizations
- **React 19**: Concurrent rendering and automatic batching for smooth UX
- **Dynamic Liquidity Market Maker Protocol**: Efficient concentrated liquidity with gas optimizations
- **Advanced Caching**: Intelligent caching for Web3 calls and price data
- **Bundle Optimization**: Tree shaking, code splitting, and modern JS features
- **Real-time Updates**: WebSocket connections for live price feeds
- **Responsive Design**: Optimized for all device sizes and screen resolutions

### Technology Stack Summary
```json
{
  "frontend": {
    "framework": "React 19.1.0",
    "ui": "Material-UI 7.3.2", 
    "solana": "@solana/web3.js 1.98.4 + @solana/wallet-adapter",
    "evm": "wagmi 2.12.29 + viem 2.21.54",
    "routing": "React Router 7.6.2",
    "build": "Vite 7.1.7"
  },
  "defi": {
    "protocol": "Mars API + Jupiter Lend + Kamino Earn",
    "wallets": "Phantom + Solflare + MetaMask + WalletConnect",
    "lending": "SPL Tokens + ERC-20 + Cross-chain bridges"
  },
  "backend": {
    "api": "Cloudflare Workers + D1 Database",
    "deployment": "https://api.marsliquidity.com",
    "caching": "Redis + KV Storage"
  }
}
```

## ğŸ¤ Contributing

We welcome contributions from the DeFi community! Please see our [Contributing Guide](CONTRIBUTING.md) for detailed information.

### Development Workflow
1. **Fork** the repository on GitHub
2. **Clone** your fork: `git clone https://github.com/your-username/mars-liquid.git`
3. **Create** a feature branch: `git checkout -b feature/amazing-feature`
4. **Develop** your feature with proper testing
5. **Test** thoroughly on BSC Testnet
6. **Commit** with clear messages: `git commit -m 'feat: add amazing feature'`
7. **Push** to your branch: `git push origin feature/amazing-feature`
8. **Open** a Pull Request with detailed description

### Contribution Guidelines
- Follow TypeScript best practices and maintain type safety
- Write comprehensive tests for new features
- Ensure all existing tests pass
- Update documentation for any API changes
- Test on multiple wallet providers and networks

### Areas for Contribution
- ğŸ”§ **Protocol Integration**: Additional DEX protocol support
- ğŸ¨ **UI/UX Improvements**: Enhanced user interface components
- ğŸ“Š **Analytics**: Advanced portfolio and trading analytics
- ğŸŒ **Multi-chain**: Additional blockchain network support
- ğŸ§ª **Testing**: Improved test coverage and testing utilities

## ğŸ“„ License

This project is licensed under the MIT License - see the [LICENSE](LICENSE) file for details.

## âš ï¸ Important Disclaimers

**Financial Risk Warning**:
- This is experimental DeFi software under active development
- **Use at your own risk**, especially on mainnet networks
- **Always test thoroughly** on testnets before mainnet usage
- DeFi trading involves significant financial risk - **only invest what you can afford to lose**
- **No warranty or guarantee** is provided for any financial outcomes

**Development Status**:
- Currently optimized for BSC Testnet with active development
- BSC Mainnet and Ethereum support are configured but require additional testing
- Smart contract interactions should be thoroughly tested before production use

---

## ğŸ™ Acknowledgments

- **[Jupiter Lend](https://jup.ag/lend/earn)** - Inspiration for automated yield optimization strategies
- **[Kamino Earn](https://kamino.finance/)** - Advanced DeFi yield farming protocols
- **[Solana](https://solana.com/)** - High-performance blockchain for DeFi applications
- **[Material-UI](https://mui.com/)** - Comprehensive React component library
- **[Cloudflare Workers](https://workers.cloudflare.com/)** - Serverless backend infrastructure

---

**Built with â¤ï¸ for the DeFi community**

*Mars Liquid - Comprehensive DeFi lending platform with automated yield optimization*

## ğŸš€ Getting Started Quickly

1. **Connect Wallet**: Use Phantom (Solana) or MetaMask (EVM) to connect your wallet
2. **Choose Network**: Switch between Solana, BSC Testnet, or other supported networks
3. **Deposit Assets**: Start earning yield by depositing supported tokens
4. **Borrow Safely**: Use deposited assets as collateral for borrowing with automatic LTV management
5. **Monitor Portfolio**: Track your lending positions and yield earnings in real-time
6. **Optimize Yield**: Leverage Jupiter Lend and Kamino Earn integrations for maximum returns

For detailed documentation and API references, visit our [Documentation](docs/) directory.

## ğŸ“Š Current Development Status

### âœ… Completed Features
- Multi-wallet integration (Phantom, Solflare, MetaMask, WalletConnect, etc.)
- Mars API backend with 7 endpoints deployed at https://api.marsliquidity.com
- DeFi lending protocol with LTV management and yield optimization
- Portfolio dashboard with Mars positions tracking
- Multi-network support (Solana, BSC Testnet, BSC Mainnet, Ethereum)
- Jupiter Lend and Kamino Earn integration for yield strategies

### ğŸ”„ In Progress
- Solana program development for native lending protocol
- Advanced yield farming strategies and auto-compounding
- Cross-chain asset bridging and position management
- Comprehensive DeFi analytics and risk assessment tools

### ğŸ¯ Roadmap
- Squads multi-sig integration for governance
- Layer 2 network support (Arbitrum, Polygon, Solana L2s)
- Advanced liquidation protection mechanisms
- Governance token and DAO for protocol management
- Institutional lending features and compliance tools
