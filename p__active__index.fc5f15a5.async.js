"use strict";(self.webpackChunkmars_admin=self.webpackChunkmars_admin||[]).push([[638],{62001:function(e,t,n){n.r(t);var i=n(9783),l=n.n(i),r=n(19632),a=n.n(r),o=n(15009),s=n.n(o),d=n(97857),c=n.n(d),u=n(99289),x=n.n(u),f=n(5574),y=n.n(f),m=n(2618),v=n(90930),g=n(2453),p=n(34041),h=n(55102),j=n(83622),S=n(4930),T=n(78818),z=n(24426),C=n(98142),B=n(67294),Z=n(85893);t.default=function(){var e;(0,B.useEffect)((function(){ge(1)}),[]);var t=(0,B.useState)({}),n=y()(t,2),i=n[0],r=n[1],o=(0,B.useState)({}),d=y()(o,2),u=d[0],f=d[1],b=(0,B.useState)([]),P=y()(b,2),D=P[0],w=P[1],k=(0,B.useState)(""),L=y()(k,2),I=L[0],N=L[1],O=(0,B.useState)(""),U=y()(O,2),V=U[0],A=U[1],K=(0,B.useState)(""),R=y()(K,2),_=R[0],q=R[1],G=(0,B.useState)(0),E=y()(G,2),F=E[0],X=E[1],H=(0,B.useState)(0),J=y()(H,2),M=J[0],Q=J[1],W=(0,B.useState)(0),Y=y()(W,2),$=Y[0],ee=Y[1],te=(0,B.useState)(!1),ne=y()(te,2),ie=ne[0],le=ne[1],re=(0,B.useState)(!1),ae=y()(re,2),oe=ae[0],se=ae[1],de=(0,B.useState)(!1),ce=y()(de,2),ue=ce[0],xe=ce[1],fe=(0,B.useState)([{type:"0",min:"",max:"",grantedType:"0",grantedPercentage:""},{type:"0",min:"",max:"",grantedType:"0",grantedPercentage:""},{type:"0",min:"",max:"",grantedType:"0",grantedPercentage:""},{type:"0",min:"",max:"",grantedType:"0",grantedPercentage:""},{type:"0",min:"",max:"",grantedType:"0",grantedPercentage:""}]),ye=y()(fe,2),me=ye[0],ve=ye[1],ge=function(){var e=x()(s()().mark((function e(t){var n,i,l;return s()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={pageNum:t,pageSize:10},e.next=3,(0,m.C8)(n);case 3:200==(i=e.sent).code&&(l=i.data.records.map((function(e){return c()(c()({},e),{},{activityType:0==e.activityType?"首充赠送":"",targetUsers:"未充值用户",status:0==e.status?"启用":"停用"})})),w(l),r(i.data));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),pe=[{title:"活动编号",dataIndex:"id",key:"id"},{title:"活动名称",dataIndex:"activityName",key:"activityName"},{title:"活动类型",dataIndex:"activityType",key:"activityType"},{title:"开始时间",dataIndex:"startTime",key:"startTime"},{title:"结束时间",dataIndex:"endTime",key:"endTime"},{title:"目标用户",dataIndex:"targetUsers",key:"targetUsers"},{title:"累计参与人数",dataIndex:"cumulativeParticipationCount",key:"cumulativeParticipationCount"},{title:"累计触发次数",dataIndex:"cumulativeTriggerCount",key:"cumulativeTriggerCount"},{title:"累计赠送金额",dataIndex:"totalGrantedAmount",key:"totalGrantedAmount"},{title:"更新时间",dataIndex:"updateTime",key:"updateTime"},{title:"活动状态",dataIndex:"status",key:"status"},{title:"操作人",dataIndex:"operatorName",key:"operatorName"},{title:"操作",dataIndex:"action",key:"action",render:function(e,t){return(0,Z.jsxs)(Z.Fragment,{children:[(0,Z.jsx)("a",{style:{marginRight:10},onClick:function(){return Se(t.id)},children:"查看"}),(0,Z.jsx)("a",{style:{marginRight:10},onClick:function(){return Te(t.id)},children:"修改"}),(0,Z.jsx)("a",{style:{marginRight:10},onClick:function(){return he(t.id,t.status)},children:"启用"==t.status?"停用":"启用"})]})}}],he=function(){var e=x()(s()().mark((function e(t,n){var i,l;return s()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i={id:t,status:"启用"==n?1:0},e.next=3,(0,m.K)(i);case 3:200==(l=e.sent).code?(g.ZP.success("更新成功"),ge(1)):g.ZP.error(l.msg);case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),je=function(){var e=x()(s()().mark((function e(){var t,n,i;return s()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=me.filter((function(e){return Object.values(e).every((function(e){return""!==e}))})),n={activityName:_,activityType:F,startTime:I,endTime:V,targetUsers:$,recoveryConditions:M,activityList:t},e.next=4,(0,m.eX)(n);case 4:200==(i=e.sent).code?(g.ZP.success("新建成功"),ge(1)):g.ZP.error(i.msg);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Se=function(){var e=x()(s()().mark((function e(t){var n;return s()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,m.KI)(t);case 2:200==(n=e.sent).code?(se(!0),f(n.data)):g.ZP.error(n.msg);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Te=function(){var e=x()(s()().mark((function e(t){var n;return s()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,m.KI)(t);case 2:200==(n=e.sent).code?(xe(!0),f(n.data),q(n.data.activityName),N(n.data.startTime),A(n.data.endTime),ve(n.data.activityList)):g.ZP.error(n.msg);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ze=function(){var e=x()(s()().mark((function e(){var t,n,i;return s()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=me.filter((function(e){return Object.values(e).every((function(e){return""!==e}))})),n={id:u.id,activityName:_,activityType:F,startTime:I,endTime:V,targetUsers:$,recoveryConditions:M,activityList:t},e.next=4,(0,m.Ay)(n);case 4:200==(i=e.sent).code?(xe(!1),g.ZP.success("修改成功"),ge(1)):g.ZP.error(i.msg);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Ce=function(e,t,n){var i=a()(me);i[e]=c()(c()({},i[e]),{},l()({},t,n)),ve(i)},Be=function(e,t){return(0,Z.jsxs)("div",{style:{display:"flex",alignItems:"center",marginTop:10},children:[(0,Z.jsx)("div",{style:{fontSize:14,color:"#222",flex:1},children:(0,Z.jsx)(p.Z,{value:e.type+"",style:{width:120},onChange:function(e){return Ce(t,"type",e)},options:[{value:"0",label:"USDT"},{value:"1",label:"SOL"},{value:"2",label:"BTC"}]})}),(0,Z.jsxs)("div",{style:{fontSize:14,color:"#222",flex:2,display:"flex"},children:[(0,Z.jsx)(h.Z,{placeholder:"最小范围",style:{width:120},value:e.min,onChange:function(e){return Ce(t,"min",e.target.value)}}),(0,Z.jsx)(h.Z,{style:{width:120,marginLeft:10},placeholder:"最大范围",value:e.max,onChange:function(e){return Ce(t,"max",e.target.value)}})]}),(0,Z.jsx)("div",{style:{fontSize:14,color:"#222",flex:1},children:(0,Z.jsx)(p.Z,{value:e.type+"",disabled:!0,options:[{value:"0",label:"USDT"},{value:"1",label:"SOL"},{value:"2",label:"BTC"}]})}),(0,Z.jsx)("div",{style:{fontSize:14,color:"#222",flex:1},children:(0,Z.jsx)(h.Z,{placeholder:"赠送百分比",style:{width:120},value:e.grantedPercentage,onChange:function(e){return Ce(t,"grantedPercentage",e.target.value)}})})]},t+"ppoolqos")};return(0,Z.jsxs)(v._z,{children:[(0,Z.jsx)(j.ZP,{type:"primary",style:{marginTop:30,marginBottom:30},onClick:function(){le(!0),q(""),N(""),A(""),ve([{type:"0",min:"",max:"",grantedType:"0",grantedPercentage:""},{type:"0",min:"",max:"",grantedType:"0",grantedPercentage:""},{type:"0",min:"",max:"",grantedType:"0",grantedPercentage:""},{type:"0",min:"",max:"",grantedType:"0",grantedPercentage:""},{type:"0",min:"",max:"",grantedType:"0",grantedPercentage:""},{type:"0",min:"",max:"",grantedType:"0",grantedPercentage:""},{type:"0",min:"",max:"",grantedType:"0",grantedPercentage:""},{type:"0",min:"",max:"",grantedType:"0",grantedPercentage:""},{type:"0",min:"",max:"",grantedType:"0",grantedPercentage:""},{type:"0",min:"",max:"",grantedType:"0",grantedPercentage:""},{type:"0",min:"",max:"",grantedType:"0",grantedPercentage:""},{type:"0",min:"",max:"",grantedType:"0",grantedPercentage:""},{type:"0",min:"",max:"",grantedType:"0",grantedPercentage:""},{type:"0",min:"",max:"",grantedType:"0",grantedPercentage:""},{type:"0",min:"",max:"",grantedType:"0",grantedPercentage:""}]),f({})},children:"新增活动"},"primary"),(0,Z.jsx)(S.Z,{dataSource:D,scroll:{x:2e3},columns:pe,pagination:!1}),(0,Z.jsx)(T.Z,{total:null==i?void 0:i.total,style:{marginTop:10},pageSize:null==i?void 0:i.size,current:null==i?void 0:i.current,onChange:function(e){return ge(e)}}),(0,Z.jsxs)(z.Z,{title:"新建活动",width:"1000px",open:ie,onCancel:function(){return le(!1)},onOk:function(){je(),le(!1)},children:[(0,Z.jsxs)("div",{style:{display:"flex",marginBottom:10},children:[(0,Z.jsxs)("div",{style:{display:"flex",flexDirection:"column"},children:[(0,Z.jsx)("div",{style:{fontSize:14,color:"#222",marginBottom:10},children:"活动类型"}),(0,Z.jsx)("div",{style:{fontSize:14,color:"#222",flex:1},children:(0,Z.jsx)(p.Z,{defaultValue:"0",onChange:function(e){return X(e)},options:[{value:"0",label:"首充赠送"}]})})]}),(0,Z.jsxs)("div",{style:{display:"flex",flexDirection:"column",marginLeft:20},children:[(0,Z.jsx)("div",{style:{fontSize:14,color:"#222",marginBottom:10},children:"目标用户"}),(0,Z.jsx)("div",{style:{fontSize:14,color:"#222",flex:1},children:(0,Z.jsx)(p.Z,{defaultValue:"0",onChange:function(e){return ee(e)},options:[{value:"0",label:"未充值用户"}]})})]})]}),(0,Z.jsxs)("div",{style:{display:"flex",marginBottom:10},children:[(0,Z.jsxs)("div",{style:{display:"flex",flexDirection:"column"},children:[(0,Z.jsx)("div",{style:{fontSize:14,color:"#222",marginBottom:10},children:"活动名称"}),(0,Z.jsx)(h.Z,{style:{width:300},placeholder:"活动名称",value:_,onChange:function(e){return q(e.target.value)}})]}),(0,Z.jsx)("div",{style:{display:"flex",flexDirection:"column",marginLeft:20},children:(0,Z.jsxs)("div",{style:{display:"flex",flexDirection:"column",marginLeft:20},children:[(0,Z.jsx)("div",{style:{fontSize:14,color:"#222",marginBottom:10},children:"赠金回收条件"}),(0,Z.jsx)("div",{style:{fontSize:14,color:"#222",flex:1},children:(0,Z.jsx)(p.Z,{defaultValue:"0",onChange:function(e){return Q(e)},options:[{value:"0",label:"提现"}]})})]})})]}),(0,Z.jsxs)("div",{style:{display:"flex",marginBottom:10},children:[(0,Z.jsxs)("div",{style:{display:"flex",flexDirection:"column"},children:[(0,Z.jsx)("div",{style:{fontSize:14,color:"#222",marginBottom:10},children:"活动开始时间"}),(0,Z.jsx)(C.default,{onChange:function(e,t){return N(t)},placeholder:"开始时间",name:"date",showTime:!0})]}),(0,Z.jsx)("div",{style:{display:"flex",flexDirection:"column",marginLeft:20},children:(0,Z.jsxs)("div",{style:{display:"flex",flexDirection:"column",marginLeft:20},children:[(0,Z.jsx)("div",{style:{fontSize:14,color:"#222",marginBottom:10},children:"活动结束时间"}),(0,Z.jsx)(C.default,{onChange:function(e,t){return A(t)},placeholder:"结束时间",name:"date",showTime:!0})]})})]}),(0,Z.jsx)("div",{style:{display:"flex",flexDirection:"column",marginBottom:10},children:(0,Z.jsxs)("div",{style:{display:"flex",flexDirection:"column",marginBottom:10},children:[(0,Z.jsx)("div",{style:{fontSize:14,color:"#222",marginBottom:10},children:"配置赠送层级"}),(0,Z.jsxs)("div",{style:{display:"flex"},children:[(0,Z.jsx)("div",{style:{fontSize:14,color:"#222",flex:1},children:"充值币种"}),(0,Z.jsx)("div",{style:{fontSize:14,color:"#222",flex:2},children:"单笔充值范围"}),(0,Z.jsx)("div",{style:{fontSize:14,color:"#222",flex:1},children:"赠送币种"}),(0,Z.jsx)("div",{style:{fontSize:14,color:"#222",flex:1},children:"赠送数量%"})]}),me.map((function(e,t){return Be(e,t)}))]})})]}),(0,Z.jsxs)(z.Z,{title:"查看活动",width:"1000px",open:oe,onCancel:function(){return se(!1)},onOk:function(){se(!1)},children:[(0,Z.jsxs)("div",{style:{display:"flex",marginBottom:10},children:[(0,Z.jsxs)("div",{style:{display:"flex",flexDirection:"column"},children:[(0,Z.jsx)("div",{style:{fontSize:14,color:"#222",marginBottom:10},children:"活动类型"}),(0,Z.jsx)("div",{style:{fontSize:14,color:"#222",flex:1},children:(0,Z.jsx)(p.Z,{disabled:!0,defaultValue:"0",onChange:function(e){return X(e)},options:[{value:"0",label:"首充赠送"}]})})]}),(0,Z.jsxs)("div",{style:{display:"flex",flexDirection:"column",marginLeft:20},children:[(0,Z.jsx)("div",{style:{fontSize:14,color:"#222",marginBottom:10},children:"目标用户"}),(0,Z.jsx)("div",{style:{fontSize:14,color:"#222",flex:1},children:(0,Z.jsx)(p.Z,{disabled:!0,defaultValue:"0",onChange:function(e){return ee(e)},options:[{value:"0",label:"未充值用户"}]})})]})]}),(0,Z.jsxs)("div",{style:{display:"flex",marginBottom:10},children:[(0,Z.jsxs)("div",{style:{display:"flex",flexDirection:"column"},children:[(0,Z.jsx)("div",{style:{fontSize:14,color:"#222",marginBottom:10},children:"活动名称"}),(0,Z.jsx)(h.Z,{disabled:!0,style:{width:300},placeholder:"活动名称",value:u.activityName,onChange:function(e){return q(e.target.value)}})]}),(0,Z.jsx)("div",{style:{display:"flex",flexDirection:"column",marginLeft:20},children:(0,Z.jsxs)("div",{style:{display:"flex",flexDirection:"column",marginLeft:20},children:[(0,Z.jsx)("div",{style:{fontSize:14,color:"#222",marginBottom:10},children:"赠金回收条件"}),(0,Z.jsx)("div",{style:{fontSize:14,color:"#222",flex:1},children:(0,Z.jsx)(p.Z,{defaultValue:"0",disabled:!0,onChange:function(e){return Q(e)},options:[{value:"0",label:"提现"}]})})]})})]}),(0,Z.jsxs)("div",{style:{display:"flex",marginBottom:10},children:[(0,Z.jsxs)("div",{style:{display:"flex",flexDirection:"column"},children:[(0,Z.jsx)("div",{style:{fontSize:14,color:"#222",marginBottom:10},children:"活动开始时间"}),(0,Z.jsx)(h.Z,{disabled:!0,style:{width:300},placeholder:"活动名称",value:u.startTime,onChange:function(e){return q(e.target.value)}})]}),(0,Z.jsx)("div",{style:{display:"flex",flexDirection:"column",marginLeft:20},children:(0,Z.jsxs)("div",{style:{display:"flex",flexDirection:"column",marginLeft:20},children:[(0,Z.jsx)("div",{style:{fontSize:14,color:"#222",marginBottom:10},children:"活动结束时间"}),(0,Z.jsx)(h.Z,{disabled:!0,style:{width:300},placeholder:"活动名称",value:u.endTime,onChange:function(e){return q(e.target.value)}})]})})]}),(0,Z.jsx)("div",{style:{display:"flex",flexDirection:"column",marginBottom:10},children:(0,Z.jsxs)("div",{style:{display:"flex",flexDirection:"column",marginBottom:10},children:[(0,Z.jsx)("div",{style:{fontSize:14,color:"#222",marginBottom:10},children:"配置赠送层级"}),(0,Z.jsxs)("div",{style:{display:"flex"},children:[(0,Z.jsx)("div",{style:{fontSize:14,color:"#222",flex:1},children:"充值币种"}),(0,Z.jsx)("div",{style:{fontSize:14,color:"#222",flex:2},children:"单笔充值范围"}),(0,Z.jsx)("div",{style:{fontSize:14,color:"#222",flex:1},children:"赠送币种"}),(0,Z.jsx)("div",{style:{fontSize:14,color:"#222",flex:1},children:"赠送数量%"})]}),null==u||null===(e=u.activityList)||void 0===e?void 0:e.map((function(e,t){return function(e,t){return(0,Z.jsxs)("div",{style:{display:"flex",alignItems:"center",marginTop:10},children:[(0,Z.jsx)("div",{style:{fontSize:14,color:"#222",flex:1},children:(0,Z.jsx)(p.Z,{disabled:!0,value:e.type+"",onChange:function(e){return Ce(t,"type",e)},options:[{value:"0",label:"USDT"},{value:"1",label:"SOL"},{value:"2",label:"BTC"}]})}),(0,Z.jsxs)("div",{style:{fontSize:14,color:"#222",flex:2,display:"flex"},children:[(0,Z.jsx)(h.Z,{placeholder:"最小范围",disabled:!0,style:{width:120},value:e.min,onChange:function(e){return Ce(t,"min",e.target.value)}}),(0,Z.jsx)(h.Z,{disabled:!0,style:{width:120,marginLeft:10},placeholder:"最大范围",value:e.max,onChange:function(e){return Ce(t,"max",e.target.value)}})]}),(0,Z.jsx)("div",{style:{fontSize:14,color:"#222",flex:1},children:(0,Z.jsx)(p.Z,{disabled:!0,value:e.type+"",onChange:function(e){return Ce(t,"grantedType",e)},options:[{value:"0",label:"USDT"},{value:"1",label:"SOL"},{value:"2",label:"BTC"}]})}),(0,Z.jsx)("div",{style:{fontSize:14,color:"#222",flex:1},children:(0,Z.jsx)(h.Z,{disabled:!0,placeholder:"赠送百分比",style:{width:120},value:e.grantedPercentage,onChange:function(e){return Ce(t,"grantedPercentage",e.target.value)}})})]},t+"ppoolqos1122")}(e,t)}))]})})]}),(0,Z.jsxs)(z.Z,{title:"修改活动",width:"1000px",open:ue,onCancel:function(){return xe(!1)},onOk:function(){ze()},children:[(0,Z.jsxs)("div",{style:{display:"flex",marginBottom:10},children:[(0,Z.jsxs)("div",{style:{display:"flex",flexDirection:"column"},children:[(0,Z.jsx)("div",{style:{fontSize:14,color:"#222",marginBottom:10},children:"活动类型"}),(0,Z.jsx)("div",{style:{fontSize:14,color:"#222",flex:1},children:(0,Z.jsx)(p.Z,{defaultValue:"0",onChange:function(e){return X(e)},options:[{value:"0",label:"首充赠送"}]})})]}),(0,Z.jsxs)("div",{style:{display:"flex",flexDirection:"column",marginLeft:20},children:[(0,Z.jsx)("div",{style:{fontSize:14,color:"#222",marginBottom:10},children:"目标用户"}),(0,Z.jsx)("div",{style:{fontSize:14,color:"#222",flex:1},children:(0,Z.jsx)(p.Z,{defaultValue:"0",onChange:function(e){return ee(e)},options:[{value:"0",label:"未充值用户"}]})})]})]}),(0,Z.jsxs)("div",{style:{display:"flex",marginBottom:10},children:[(0,Z.jsxs)("div",{style:{display:"flex",flexDirection:"column"},children:[(0,Z.jsx)("div",{style:{fontSize:14,color:"#222",marginBottom:10},children:"活动名称"}),(0,Z.jsx)(h.Z,{style:{width:300},placeholder:"活动名称",value:_,onChange:function(e){return q(e.target.value)}})]}),(0,Z.jsx)("div",{style:{display:"flex",flexDirection:"column",marginLeft:20},children:(0,Z.jsxs)("div",{style:{display:"flex",flexDirection:"column",marginLeft:20},children:[(0,Z.jsx)("div",{style:{fontSize:14,color:"#222",marginBottom:10},children:"赠金回收条件"}),(0,Z.jsx)("div",{style:{fontSize:14,color:"#222",flex:1},children:(0,Z.jsx)(p.Z,{defaultValue:"0",onChange:function(e){return Q(e)},options:[{value:"0",label:"提现"}]})})]})})]}),(0,Z.jsxs)("div",{style:{display:"flex",marginBottom:10},children:[(0,Z.jsxs)("div",{style:{display:"flex",flexDirection:"column"},children:[(0,Z.jsx)("div",{style:{fontSize:14,color:"#222",marginBottom:10},children:"活动开始时间"}),(0,Z.jsx)(C.default,{onChange:function(e,t){return N(t)},placeholder:I,name:"date",showTime:!0})]}),(0,Z.jsx)("div",{style:{display:"flex",flexDirection:"column",marginLeft:20},children:(0,Z.jsxs)("div",{style:{display:"flex",flexDirection:"column",marginLeft:20},children:[(0,Z.jsx)("div",{style:{fontSize:14,color:"#222",marginBottom:10},children:"活动结束时间"}),(0,Z.jsx)(C.default,{onChange:function(e,t){return A(t)},placeholder:V,name:"date",showTime:!0})]})})]}),(0,Z.jsx)("div",{style:{display:"flex",flexDirection:"column",marginBottom:10},children:(0,Z.jsxs)("div",{style:{display:"flex",flexDirection:"column",marginBottom:10},children:[(0,Z.jsx)("div",{style:{fontSize:14,color:"#222",marginBottom:10},children:"配置赠送层级"}),(0,Z.jsxs)("div",{style:{display:"flex"},children:[(0,Z.jsx)("div",{style:{fontSize:14,color:"#222",flex:1},children:"充值币种"}),(0,Z.jsx)("div",{style:{fontSize:14,color:"#222",flex:2},children:"单笔充值范围"}),(0,Z.jsx)("div",{style:{fontSize:14,color:"#222",flex:1},children:"赠送币种"}),(0,Z.jsx)("div",{style:{fontSize:14,color:"#222",flex:1},children:"赠送数量%"})]}),me.map((function(e,t){return Be(e,t)}))]})})]})]})}}}]);