# Cloudflare Container 环境变量配置
# 复制此文件为 .env.cloudflare 并配置您的值

# ===========================================
# Cloudflare 配置
# ===========================================

# Cloudflare 账户 ID (从 Dashboard 获取)
CLOUDFLARE_ACCOUNT_ID=your_account_id_here

# Cloudflare API Token (需要 Container Registry 权限)
CLOUDFLARE_API_TOKEN=your_api_token_here

# Container Registry 命名空间
CLOUDFLARE_NAMESPACE=mars-substreams

# ===========================================
# Substreams 配置 (从 .env.substreams 复制)
# ===========================================

# StreamingFast 端点
SUBSTREAMS_ENDPOINT=mainnet.sol.streamingfast.io:443

# JWT Token
SUBSTREAMS_JWT_TOKEN=your_jwt_token_here

# API Key
SUBSTREAMS_API_KEY=server_4659a992cc417c3a2464188f653be8c3

# ===========================================
# 数据库配置
# ===========================================

# Neon PostgreSQL 连接字符串
SUBSTREAMS_SINK_POSTGRES_DSN=postgres://neondb_owner:npg_9kucNXKpA6eC@ep-solitary-heart-a19z1rs7.ap-southeast-1.aws.neon.tech/neondb?sslmode=require

# ===========================================
# Substreams 配置
# ===========================================

# 起始区块号
START_BLOCK=370000000

# 处理模式
FINAL_BLOCKS_ONLY=true

# 日志级别
LOG_LEVEL=info

# ===========================================
# Container 配置
# ===========================================

# Container 版本标签
CONTAINER_VERSION=latest

# 资源配置
CONTAINER_CPU=1000m
CONTAINER_MEMORY=2Gi
CONTAINER_DISK=10Gi

# 健康检查配置
HEALTH_CHECK_INTERVAL=30s
HEALTH_CHECK_TIMEOUT=10s
HEALTH_CHECK_RETRIES=3

# ===========================================
# 监控配置
# ===========================================

# 启用指标收集
ENABLE_METRICS=true

# 指标端口
METRICS_PORT=9090

# 日志保留天数
LOG_RETENTION_DAYS=7

# ===========================================
# 告警配置
# ===========================================

# Webhook URL (可选)
ALERT_WEBHOOK_URL=

# 错误率阈值
ERROR_RATE_THRESHOLD=0.1

# 响应时间阈值 (秒)
RESPONSE_TIME_THRESHOLD=30