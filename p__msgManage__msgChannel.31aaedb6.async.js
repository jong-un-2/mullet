"use strict";(self.webpackChunkmars_admin=self.webpackChunkmars_admin||[]).push([[5490],{87897:function(e,t,n){n.r(t);var l=n(15009),i=n.n(l),r=n(97857),a=n.n(r),s=n(99289),o=n.n(s),c=n(5574),d=n.n(c),u=n(2618),x=n(90930),p=n(2453),h=n(83622),y=n(34041),f=n(4930),m=n(78818),v=n(24426),g=n(78045),j=n(55102),k=n(67294),B=(n(40190),n(85893));t.default=function(){(0,k.useEffect)((function(){we(1)}),[]);var e=(0,k.useState)([]),t=d()(e,2),n=t[0],l=t[1],r=(0,k.useState)({}),s=d()(r,2),c=s[0],S=s[1],Z=(0,k.useState)({}),C=d()(Z,2),w=C[0],z=C[1],b=(0,k.useState)(!1),D=d()(b,2),I=D[0],P=D[1],A=(0,k.useState)(!1),T=d()(A,2),F=T[0],N=T[1],K=(0,k.useState)(!1),U=d()(K,2),G=U[0],O=U[1],R=(0,k.useState)(""),E=d()(R,2),_=E[0],L=E[1],W=(0,k.useState)(""),X=d()(W,2),q=X[0],H=X[1],J=(0,k.useState)(""),M=d()(J,2),Q=M[0],V=M[1],Y=(0,k.useState)(""),$=d()(Y,2),ee=$[0],te=$[1],ne=(0,k.useState)(""),le=d()(ne,2),ie=le[0],re=le[1],ae=(0,k.useState)(""),se=d()(ae,2),oe=se[0],ce=se[1],de=(0,k.useState)(""),ue=d()(de,2),xe=ue[0],pe=ue[1],he=(0,k.useState)(0),ye=d()(he,2),fe=ye[0],me=ye[1],ve=(0,k.useState)(1),ge=d()(ve,2),je=ge[0],ke=ge[1],Be=(0,k.useState)({channelFlag:"",channelType:""}),Se=d()(Be,2),Ze=Se[0],Ce=Se[1],we=function(){var e=o()(i()().mark((function e(t){var n,r;return i()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a()({pageNum:t,pageSize:10},Ze),e.next=3,(0,u.Xm)(n);case 3:200==(r=e.sent).code&&(l(r.data.records),S(r.data));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ze=[{title:"通道名称",dataIndex:"channelName",key:"channelName"},{title:"状态",dataIndex:"status",key:"status",render:function(e,t){return(0,B.jsx)(B.Fragment,{children:(0,B.jsx)("div",{children:0==t.status?"关闭":"开启"})})}},{title:"维护人",dataIndex:"operatorName",key:"operatorName"},{title:"最后检测时间",dataIndex:"updateTime",key:"updateTime"},{title:"操作",dataIndex:"action",key:"action",render:function(e,t){return(0,B.jsxs)(B.Fragment,{children:[(0,B.jsx)("a",{style:{marginRight:10},onClick:function(){z(t),P(!0)},children:"修改"}),(0,B.jsx)("a",{style:{marginRight:10},onClick:function(){z(t),O(!0)},children:"删除"})]})}}],be=function(){var e=o()(i()().mark((function e(){var t,n;return i()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a()({},w),e.next=3,(0,u.pW)(t);case 3:200==(n=e.sent).code?(p.ZP.success("修改成功"),P(!1),we(1)):p.ZP.error(n.msg);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),De=function(){var e=o()(i()().mark((function e(){var t;return i()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,u.RO)(null==w?void 0:w.id);case 2:200==(t=e.sent).code?(p.ZP.success("删除成功"),we(1),O(!1)):p.ZP.error(t.msg);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();(0,k.useEffect)((function(){me(0),ke(1),L(""),H(""),V(""),te(""),re(""),ce(""),pe("")}),[F]),(0,k.useEffect)((function(){}),[I]);var Ie=function(){var e=o()(i()().mark((function e(){var t,n;return i()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={channelFlag:fe,channelType:je,channelName:_,signature:q,sdkAppid:Q,sdkAppkey:ee,apiUrl:ie,secretId:oe,secretKey:xe},e.next=3,(0,u.uP)(t);case 3:200==(n=e.sent).code?(N(!1),p.ZP.success("新增成功"),we(1)):p.ZP.error(n.msg);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,B.jsxs)(x._z,{children:[(0,B.jsxs)("div",{style:{display:"flex",alignItems:"flex-end",marginTop:30,marginBottom:30,justifyContent:"space-between"},children:[(0,B.jsx)("div",{style:{display:"flex"},children:(0,B.jsx)(h.ZP,{type:"primary",style:{},onClick:function(){return N(!0)},children:"新增"},"primary")}),(0,B.jsxs)("div",{style:{display:"flex"},children:[(0,B.jsxs)("div",{style:{display:"flex",alignItems:"center",marginRight:30},children:[(0,B.jsx)("div",{style:{fontSize:14,color:"#222"},children:"国内/国外："}),(0,B.jsx)(y.Z,{style:{width:120},value:Ze.channelFlag,onChange:function(e){return Ce(a()(a()({},Ze),{},{channelFlag:e}))},options:[{label:"国内",value:"0"},{label:"国外",value:"1"},{label:"全部",value:""}]})]}),(0,B.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[(0,B.jsx)("div",{style:{fontSize:14,color:"#222"},children:"邮件/短信："}),(0,B.jsx)(y.Z,{style:{width:120},value:Ze.channelType,onChange:function(e){return Ce(a()(a()({},Ze),{},{channelType:e}))},options:[{label:"邮件",value:"1"},{label:"短信",value:"2"},{label:"全部",value:""}]})]}),(0,B.jsx)(h.ZP,{type:"primary",style:{marginLeft:10},onClick:function(){return we(1)},children:"查询"},"primary"),(0,B.jsx)(h.ZP,{type:"primary",style:{marginLeft:10},onClick:function(){Ce({channelFlag:"",channelType:""})},children:"重置"},"primary")]})]}),(0,B.jsx)(f.Z,{dataSource:n,columns:ze,pagination:!1}),(0,B.jsx)(m.Z,{total:null==c?void 0:c.total,style:{marginTop:10},pageSize:null==c?void 0:c.size,current:null==c?void 0:c.current,onChange:function(e){return we(e)}}),(0,B.jsx)(v.Z,{title:"新增通道",width:"1000px",open:F,onCancel:function(){return N(!1)},onOk:function(){return Ie()},children:(0,B.jsx)("div",{style:{display:"flex"},children:(0,B.jsxs)("div",{children:[(0,B.jsx)(g.ZP.Group,{name:"radiogroup",style:{marginBottom:10},value:fe,onChange:function(e){me(e.target.value)},options:[{value:0,label:"国内"},{value:1,label:"国外"}]}),(0,B.jsx)(g.ZP.Group,{name:"radiogroup",value:je,style:{marginBottom:10},onChange:function(e){ke(e.target.value)},options:[{value:1,label:"邮箱"},{value:2,label:"短信"}]}),(0,B.jsx)("div",{style:{display:"flex",marginBottom:10},children:(0,B.jsxs)("div",{style:{display:"flex",flexDirection:"column"},children:[(0,B.jsx)("div",{style:{fontSize:14,color:"#222",marginBottom:10},children:"名称"}),(0,B.jsx)(j.Z,{style:{width:300},placeholder:"名称",value:_,onChange:function(e){return L(e.target.value)}})]})}),(0,B.jsx)("div",{style:{display:"flex",marginBottom:10},children:(0,B.jsxs)("div",{style:{display:"flex",flexDirection:"column"},children:[(0,B.jsx)("div",{style:{fontSize:14,color:"#222",marginBottom:10},children:"签名"}),(0,B.jsx)(j.Z,{style:{width:300},placeholder:"签名",value:q,onChange:function(e){return H(e.target.value)}})]})}),(0,B.jsx)("div",{style:{display:"flex",marginBottom:10},children:(0,B.jsxs)("div",{style:{display:"flex",flexDirection:"column"},children:[(0,B.jsx)("div",{style:{fontSize:14,color:"#222",marginBottom:10},children:"sdkAppid"}),(0,B.jsx)(j.Z,{style:{width:300},placeholder:"sdkAppid",value:Q,onChange:function(e){return V(e.target.value)}})]})}),(0,B.jsx)("div",{style:{display:"flex",marginBottom:10},children:(0,B.jsxs)("div",{style:{display:"flex",flexDirection:"column"},children:[(0,B.jsx)("div",{style:{fontSize:14,color:"#222",marginBottom:10},children:"sdkAppkey"}),(0,B.jsx)(j.Z,{style:{width:300},placeholder:"sdkAppkey",value:ee,onChange:function(e){return te(e.target.value)}})]})}),(0,B.jsx)("div",{style:{display:"flex",marginBottom:10},children:(0,B.jsxs)("div",{style:{display:"flex",flexDirection:"column"},children:[(0,B.jsx)("div",{style:{fontSize:14,color:"#222",marginBottom:10},children:"apiUrl"}),(0,B.jsx)(j.Z,{style:{width:300},placeholder:"apiUrl",value:ie,onChange:function(e){return re(e.target.value)}})]})}),(0,B.jsx)("div",{style:{display:"flex",marginBottom:10},children:(0,B.jsxs)("div",{style:{display:"flex",flexDirection:"column"},children:[(0,B.jsx)("div",{style:{fontSize:14,color:"#222",marginBottom:10},children:"secretId"}),(0,B.jsx)(j.Z,{style:{width:300},placeholder:"secretId",value:oe,onChange:function(e){return ce(e.target.value)}})]})}),(0,B.jsx)("div",{style:{display:"flex",marginBottom:10},children:(0,B.jsxs)("div",{style:{display:"flex",flexDirection:"column"},children:[(0,B.jsx)("div",{style:{fontSize:14,color:"#222",marginBottom:10},children:"secretKey"}),(0,B.jsx)(j.Z,{style:{width:300},placeholder:"secretKey",value:xe,onChange:function(e){return pe(e.target.value)}})]})})]})})}),(0,B.jsx)(v.Z,{title:"修改通道",width:"1000px",open:I,onCancel:function(){return P(!1)},onOk:function(){return be()},children:(0,B.jsx)("div",{style:{display:"flex"},children:(0,B.jsxs)("div",{children:[(0,B.jsx)(g.ZP.Group,{name:"radiogroup",style:{marginBottom:10},value:w.channelFlag,onChange:function(e){z(a()(a()({},w),{},{channelFlag:e.target.value}))},options:[{value:0,label:"国内"},{value:1,label:"国外"}]}),(0,B.jsx)(g.ZP.Group,{name:"radiogroup",value:w.channelType,style:{marginBottom:10},onChange:function(e){z(a()(a()({},w),{},{channelType:e.target.value}))},options:[{value:1,label:"邮箱"},{value:2,label:"短信"}]}),(0,B.jsx)("div",{style:{display:"flex",marginBottom:10},children:(0,B.jsxs)("div",{style:{display:"flex",flexDirection:"column"},children:[(0,B.jsx)("div",{style:{fontSize:14,color:"#222",marginBottom:10},children:"名称"}),(0,B.jsx)(j.Z,{style:{width:300},placeholder:"名称",value:w.channelName,onChange:function(e){return z(a()(a()({},w),{},{channelName:e.target.value}))}})]})}),(0,B.jsx)("div",{style:{display:"flex",marginBottom:10},children:(0,B.jsxs)("div",{style:{display:"flex",flexDirection:"column"},children:[(0,B.jsx)("div",{style:{fontSize:14,color:"#222",marginBottom:10},children:"状态"}),(0,B.jsx)(g.ZP.Group,{name:"radiogroup",style:{marginBottom:10},value:w.status,onChange:function(e){z(a()(a()({},w),{},{status:e.target.value}))},options:[{value:0,label:"停用"},{value:1,label:"启用"}]})]})}),(0,B.jsx)("div",{style:{display:"flex",marginBottom:10},children:(0,B.jsxs)("div",{style:{display:"flex",flexDirection:"column"},children:[(0,B.jsx)("div",{style:{fontSize:14,color:"#222",marginBottom:10},children:"签名"}),(0,B.jsx)(j.Z,{style:{width:300},placeholder:"签名",value:w.signature,onChange:function(e){return z(a()(a()({},w),{},{signature:e.target.value}))}})]})}),(0,B.jsx)("div",{style:{display:"flex",marginBottom:10},children:(0,B.jsxs)("div",{style:{display:"flex",flexDirection:"column"},children:[(0,B.jsx)("div",{style:{fontSize:14,color:"#222",marginBottom:10},children:"sdkAppid"}),(0,B.jsx)(j.Z,{style:{width:300},placeholder:"sdkAppid",value:w.sdkAppid,onChange:function(e){return z(a()(a()({},w),{},{sdkAppid:e.target.value}))}})]})}),(0,B.jsx)("div",{style:{display:"flex",marginBottom:10},children:(0,B.jsxs)("div",{style:{display:"flex",flexDirection:"column"},children:[(0,B.jsx)("div",{style:{fontSize:14,color:"#222",marginBottom:10},children:"sdkAppkey"}),(0,B.jsx)(j.Z,{style:{width:300},placeholder:"sdkAppkey",value:w.sdkAppkey,onChange:function(e){return z(a()(a()({},w),{},{sdkAppkey:e.target.value}))}})]})}),(0,B.jsx)("div",{style:{display:"flex",marginBottom:10},children:(0,B.jsxs)("div",{style:{display:"flex",flexDirection:"column"},children:[(0,B.jsx)("div",{style:{fontSize:14,color:"#222",marginBottom:10},children:"apiUrl"}),(0,B.jsx)(j.Z,{style:{width:300},placeholder:"apiUrl",value:w.apiUrl,onChange:function(e){return z(a()(a()({},w),{},{apiUrl:e.target.value}))}})]})}),(0,B.jsx)("div",{style:{display:"flex",marginBottom:10},children:(0,B.jsxs)("div",{style:{display:"flex",flexDirection:"column"},children:[(0,B.jsx)("div",{style:{fontSize:14,color:"#222",marginBottom:10},children:"secretId"}),(0,B.jsx)(j.Z,{style:{width:300},placeholder:"secretId",value:w.secretId,onChange:function(e){return z(a()(a()({},w),{},{secretId:e.target.value}))}})]})}),(0,B.jsx)("div",{style:{display:"flex",marginBottom:10},children:(0,B.jsxs)("div",{style:{display:"flex",flexDirection:"column"},children:[(0,B.jsx)("div",{style:{fontSize:14,color:"#222",marginBottom:10},children:"secretKey"}),(0,B.jsx)(j.Z,{style:{width:300},placeholder:"secretKey",value:w.secretKey,onChange:function(e){return z(a()(a()({},w),{},{secretKey:e.target.value}))}})]})})]})})}),(0,B.jsx)(v.Z,{title:"删除通道",open:G,onCancel:function(){return O(!1)},onOk:function(){return De()},children:(0,B.jsxs)("div",{children:["是否删除该通道： ",(0,B.jsx)("span",{style:{fontWeight:"bold"},children:null==w?void 0:w.channelName})]})})]})}},40190:function(){}}]);