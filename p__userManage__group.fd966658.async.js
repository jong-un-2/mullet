"use strict";(self.webpackChunkmars_admin=self.webpackChunkmars_admin||[]).push([[8576],{54819:function(n,e,t){t.r(e);var r=t(15009),o=t.n(r),i=t(97857),a=t.n(i),u=t(99289),c=t.n(u),s=t(5574),l=t.n(s),d=t(90930),f=t(67294),p=t(2453),m=t(83622),x=t(4930),h=t(78818),g=t(24426),v=t(55102),y=t(21836),j=t(2618),k=t(85893);e.default=function(){(0,f.useEffect)((function(){q(1)}),[]);var n=(0,f.useState)([]),e=l()(n,2),t=e[0],r=e[1],i=(0,f.useState)({}),u=l()(i,2),s=u[0],Z=u[1],w=(0,f.useState)(""),C=l()(w,2),S=C[0],N=C[1],z=(0,f.useState)({}),B=l()(z,2),P=B[0],b=B[1],O=(0,f.useState)(!1),D=l()(O,2),I=D[0],L=D[1],_=(0,f.useState)(!1),W=l()(_,2),E=W[0],F=W[1],J=(0,f.useState)(!1),M=l()(J,2),R=M[0],T=M[1],q=function(){var n=c()(o()().mark((function n(e){var t,i,u;return o()().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t={pageNum:e,pageSize:10},n.next=3,(0,j.bb)(t);case 3:200==(i=n.sent).code&&(u=i.data.records.map((function(n){return a()({},n)})),r(u),Z(i.data));case 5:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),A=function(){var n=c()(o()().mark((function n(){var e,t;return o()().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e={groupName:S},n.next=3,(0,j.Wx)(e);case 3:200==(t=n.sent).code?(p.ZP.success("新建成功"),q(1),L(!1)):p.ZP.error(t.msg);case 5:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),G=function(){var n=c()(o()().mark((function n(){var e,t;return o()().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e={id:P.id,groupName:P.groupName},n.next=3,(0,j.JR)(e);case 3:200==(t=n.sent).code?(p.ZP.success("修改成功"),q(1),T(!1)):p.ZP.error(t.msg);case 5:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),H=function(){var n=c()(o()().mark((function n(e){var t;return o()().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,(0,j.WO)(e);case 2:200==(t=n.sent).code?(p.ZP.success("删除成功"),q(1),F(!1)):p.ZP.error(t.msg);case 4:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),K=[{title:"组别名称",dataIndex:"groupName",key:"groupName"},{title:"组别下总人数",dataIndex:"userCount",key:"userCount"},{title:"操作",dataIndex:"action",key:"action",render:function(n,e){return(0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)(y.Link,{to:"/userManage/group-details".concat(e.id),children:"详情"}),(0,k.jsx)("a",{style:{marginLeft:30},onClick:function(){b(e),F(!0)},children:"删除组别"}),(0,k.jsx)("a",{style:{marginLeft:30},onClick:function(){b(e),T(!0)},children:"修改组别"})]})}}];return(0,k.jsxs)(d._z,{children:[(0,k.jsx)(m.ZP,{type:"primary",onClick:function(){L(!0)},style:{marginBottom:30},children:"新建组别"},"primary"),(0,k.jsx)(x.Z,{dataSource:t,columns:K,pagination:!1}),(0,k.jsx)(h.Z,{total:null==s?void 0:s.total,style:{marginTop:10},pageSize:null==s?void 0:s.size,current:null==s?void 0:s.current,onChange:function(n){return q(n)}}),(0,k.jsx)(g.Z,{title:"新建组别",width:"400px",open:I,onCancel:function(){return L(!1)},onOk:function(){return A()},children:(0,k.jsxs)("div",{style:{display:"flex",flexDirection:"column",marginBottom:10},children:[(0,k.jsx)("div",{style:{fontSize:14,color:"#222",marginBottom:10},children:"组别名称"}),(0,k.jsx)(v.Z,{placeholder:"请输入组别名称",onChange:function(n){return N(n.target.value)},value:S})]})}),(0,k.jsx)(g.Z,{title:"修改组别",width:"400px",open:R,onCancel:function(){return T(!1)},onOk:function(){return G()},children:(0,k.jsxs)("div",{style:{display:"flex",flexDirection:"column",marginBottom:10},children:[(0,k.jsx)("div",{style:{fontSize:14,color:"#222",marginBottom:10},children:"组别名称"}),(0,k.jsx)(v.Z,{placeholder:"请输入组别名称",onChange:function(n){return b(a()(a()({},P),{},{groupName:n.target.value}))},value:P.groupName})]})}),(0,k.jsx)(g.Z,{title:"删除组别",width:"400px",open:E,onCancel:function(){return F(!1)},onOk:function(){return H(null==P?void 0:P.id)},children:(0,k.jsx)("div",{style:{display:"flex",flexDirection:"column",marginBottom:10},children:(0,k.jsxs)("div",{style:{fontSize:14,color:"#222",marginBottom:10},children:["确定删除该 ",null==P?void 0:P.groupName," 组别吗？"]})})})]})}}}]);