(self.webpackChunkmars_admin=self.webpackChunkmars_admin||[]).push([[3862],{72535:function(e,t,n){"use strict";n.r(t);var r=n(15009),a=n.n(r),o=n(99289),i=n.n(o),s=n(5574),u=n.n(s),c=n(2618),l=n(90930),d=n(98142),f=n(2453),p=n(71230),m=n(15746),v=n(34041),y=n(83622),g=n(4393),h=n(4930),b=n(67294),x=n(44013),w=n(93162),j=n.n(w),k=n(85893),C=d.default.RangePicker,S=function(e){return 12*e.year()+e.month()},Z=function(e,t){var n=t.from,r=t.type;if(n){var a=n.add(-30,"days"),o=n.add(30,"days");switch(r){case"year":return e.year()<a.year()||e.year()>o.year();case"month":return S(e)<S(a)||S(e)>S(o);default:return Math.abs(e.diff(n,"days"))>=30}}return!1},D=function(e){var t=e.getFullYear(),n=String(e.getMonth()+1).padStart(2,"0"),r=String(e.getDate()).padStart(2,"0");return"".concat(t,"-").concat(n,"-").concat(r)};t.default=function(){(0,b.useEffect)((function(){H(),U()}),[]);var e=(0,b.useState)({}),t=u()(e,2),n=t[0],r=t[1],o=(0,b.useState)([]),s=u()(o,2),d=(s[0],s[1],(0,b.useState)("register")),w=u()(d,2),S=w[0],L=w[1],E=(0,b.useState)(""),O=u()(E,2),R=O[0],A=O[1],T=(0,b.useState)(""),I=u()(T,2),M=I[0],B=I[1],U=function(){var e=i()(a()().mark((function e(){var t,n,o,i,s,u;return a()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=new Date,n=D(t),(o=new Date).setMonth(t.getMonth()-1),i=D(o),A(i),B(n),s={startDate:i,endDate:n},e.next=10,(0,c.XD)(s);case 10:200==(u=e.sent).code?r(u.data):f.ZP.error(u.msg);case 12:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),P=function(){var e=i()(a()().mark((function e(){var t,n,r;return a()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={startDate:R,endDate:M},e.next=3,(0,c.TS)(t);case 3:n=e.sent,r=new Blob([n],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"}),j().saveAs(r,"data.xlsx");case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),_=function(){var e=i()(a()().mark((function e(){var t,n;return a()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={startDate:R,endDate:M},e.next=3,(0,c.XD)(t);case 3:200==(n=e.sent).code?r(n.data):f.ZP.error(n.msg);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),q=function(e,t){var n=x.S1(document.getElementById("myChart")),r={title:{text:""},tooltip:{trigger:"axis",axisPointer:{type:"cross",label:{backgroundColor:"#6a7985"}}},grid:{left:"3%",right:"4%",bottom:"3%",containLabel:!0},xAxis:[{type:"category",boundaryGap:!1,data:e}],yAxis:[{type:"value"}],series:[{smooth:!0,type:"line",data:t,markLine:{data:[{type:"average",name:"平均值"}]},areaStyle:{}}]};n.setOption(r),window.addEventListener("resize",(function(){n.resize()}))},H=function(){var e=i()(a()().mark((function e(){var t,n;return a()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={startDate:R,endDate:M,modulus:S},e.next=3,(0,c.mb)(t);case 3:200==(n=e.sent).code?q(n.data.dates,n.data.counts):f.ZP.error(n.msg);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,k.jsxs)(l._z,{children:[(0,k.jsxs)(p.Z,{gutter:16,style:{marginTop:30},children:[(0,k.jsx)(m.Z,{span:4,children:(0,k.jsx)(v.Z,{defaultValue:"register",style:{width:120},value:S,onChange:function(e){return L(e)},options:[{value:"register",label:"注册"},{value:"firstCharge",label:"首充"},{value:"inTotal",label:"入金"},{value:"netValue",label:"净值"},{value:"visits",label:"访问量"}]})}),(0,k.jsx)(C,{disabledDate:Z,onChange:function(e,t){A(t[0]),B(t[1])}}),(0,k.jsx)(y.ZP,{type:"primary",onClick:function(){H(),_()},style:{marginLeft:30},children:"查询"},"primary")]}),(0,k.jsx)("div",{id:"myChart",style:{width:"100%",height:"500px"}}),(0,k.jsxs)(p.Z,{gutter:16,style:{marginTop:30},children:[(0,k.jsx)(m.Z,{span:4,children:(0,k.jsx)(g.Z,{title:"访问人数",bordered:!1,children:null==n?void 0:n.totalNumberOfVisitorsCount})}),(0,k.jsx)(m.Z,{span:4,children:(0,k.jsx)(g.Z,{title:"咨询人数",bordered:!1,children:n.totalNumberOfInquiriesCount})}),(0,k.jsx)(m.Z,{span:4,children:(0,k.jsx)(g.Z,{title:"真实开户数",bordered:!1,children:n.totalRegisterCount})}),(0,k.jsx)(m.Z,{span:4,children:(0,k.jsx)(g.Z,{title:"首入人数",bordered:!1,children:n.totalFirstInCount})}),(0,k.jsx)(m.Z,{span:4,children:(0,k.jsx)(g.Z,{title:"质押产品数",bordered:!1,children:n.totalPledgesCount})})]}),(0,k.jsx)(y.ZP,{type:"primary",style:{marginTop:30,marginBottom:30},onClick:P,children:"导出"},"primary"),(0,k.jsx)(h.Z,{dataSource:null==n?void 0:n.list,columns:[{title:"日期",dataIndex:"createDate",key:"createDate"},{title:"访问人数",dataIndex:"numberOfVisitorsCount",key:"numberOfVisitorsCount"},{title:"咨询人数",dataIndex:"numberOfInquiriesCount",key:"numberOfInquiriesCount"},{title:"真实开户数",dataIndex:"registerCount",key:"registerCount"},{title:"首入人数",dataIndex:"firstInCount",key:"firstInCount"},{title:"质押产品数",dataIndex:"pledgesCount",key:"pledgesCount"}],pagination:!1})]})}},93162:function(e,t,n){var r,a,o;a=[],void 0===(o="function"==typeof(r=function(){"use strict";function t(e,t){return void 0===t?t={autoBom:!1}:"object"!=typeof t&&(console.warn("Deprecated: Expected third argument to be a object"),t={autoBom:!t}),t.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(e.type)?new Blob(["\ufeff",e],{type:e.type}):e}function r(e,t,n){var r=new XMLHttpRequest;r.open("GET",e),r.responseType="blob",r.onload=function(){u(r.response,t,n)},r.onerror=function(){console.error("could not download file")},r.send()}function a(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch(e){}return 200<=t.status&&299>=t.status}function o(e){try{e.dispatchEvent(new MouseEvent("click"))}catch(n){var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}}var i="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof n.g&&n.g.global===n.g?n.g:void 0,s=i.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),u=i.saveAs||("object"!=typeof window||window!==i?function(){}:"download"in HTMLAnchorElement.prototype&&!s?function(e,t,n){var s=i.URL||i.webkitURL,u=document.createElement("a");t=t||e.name||"download",u.download=t,u.rel="noopener","string"==typeof e?(u.href=e,u.origin===location.origin?o(u):a(u.href)?r(e,t,n):o(u,u.target="_blank")):(u.href=s.createObjectURL(e),setTimeout((function(){s.revokeObjectURL(u.href)}),4e4),setTimeout((function(){o(u)}),0))}:"msSaveOrOpenBlob"in navigator?function(e,n,i){if(n=n||e.name||"download","string"!=typeof e)navigator.msSaveOrOpenBlob(t(e,i),n);else if(a(e))r(e,n,i);else{var s=document.createElement("a");s.href=e,s.target="_blank",setTimeout((function(){o(s)}))}}:function(e,t,n,a){if((a=a||open("","_blank"))&&(a.document.title=a.document.body.innerText="downloading..."),"string"==typeof e)return r(e,t,n);var o="application/octet-stream"===e.type,u=/constructor/i.test(i.HTMLElement)||i.safari,c=/CriOS\/[\d]+/.test(navigator.userAgent);if((c||o&&u||s)&&"undefined"!=typeof FileReader){var l=new FileReader;l.onloadend=function(){var e=l.result;e=c?e:e.replace(/^data:[^;]*;/,"data:attachment/file;"),a?a.location.href=e:location=e,a=null},l.readAsDataURL(e)}else{var d=i.URL||i.webkitURL,f=d.createObjectURL(e);a?a.location=f:location.href=f,a=null,setTimeout((function(){d.revokeObjectURL(f)}),4e4)}});i.saveAs=u.saveAs=u,e.exports=u})?r.apply(t,a):r)||(e.exports=o)}}]);