"use strict";(self.webpackChunkmars_admin=self.webpackChunkmars_admin||[]).push([[1966],{48473:function(e,t,n){n.r(t);var r=n(15009),i=n.n(r),s=n(97857),l=n.n(s),a=n(99289),o=n.n(a),u=n(5574),c=n.n(u),d=n(2618),f=n(90930),x=n(2453),h=n(83622),p=n(4930),m=n(78818),y=n(24426),v=n(34041),g=n(55102),j=n(67294),k=(n(40190),n(85893));t.default=function(){(0,j.useEffect)((function(){ue(1)}),[]);var e=(0,j.useState)([]),t=c()(e,2),n=t[0],r=t[1],s=(0,j.useState)(""),a=c()(s,2),u=a[0],S=a[1],w=(0,j.useState)("0"),Z=c()(w,2),C=Z[0],B=Z[1],z=(0,j.useState)(""),P=c()(z,2),b=P[0],D=P[1],L=(0,j.useState)(""),I=c()(L,2),T=I[0],O=I[1],G=(0,j.useState)("0"),_=c()(G,2),R=_[0],V=_[1],E=(0,j.useState)("0"),F=c()(E,2),N=F[0],W=F[1],q=(0,j.useState)({}),A=c()(q,2),H=A[0],J=A[1],K=(0,j.useState)({}),M=c()(K,2),Q=M[0],U=M[1],X=(0,j.useState)(!1),Y=c()(X,2),$=Y[0],ee=Y[1],te=(0,j.useState)(!1),ne=c()(te,2),re=ne[0],ie=ne[1],se=(0,j.useState)(!1),le=c()(se,2),ae=le[0],oe=le[1],ue=function(){var e=o()(i()().mark((function e(t){var n,s,a;return i()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={pageNum:t,pageSize:10},e.next=3,(0,d.j7)(n);case 3:200==(s=e.sent).code&&(a=s.data.records.map((function(e){return l()(l()({},e),{},{status:0==e.status?"启用":"禁用"})})),r(a),J(s.data));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ce=[{title:"ID",dataIndex:"id",key:"id"},{title:"群链接",dataIndex:"groupLink",key:"groupLink"},{title:"状态",dataIndex:"status",key:"status"},{title:"备注",dataIndex:"remark",key:"remark"},{title:"操作",dataIndex:"action",key:"action",render:function(e,t){return(0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)("a",{style:{marginRight:10},onClick:function(){U(t),O(t.groupLink),W(t.remark),V("禁用"==t.status?"1":"0"),ee(!0)},children:"修改"}),(0,k.jsx)("a",{style:{marginRight:10},onClick:function(){U(t),oe(!0)},children:"删除"})]})}}],de=function(){var e=o()(i()().mark((function e(){var t,n;return i()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={groupLink:u,status:C,remark:b},e.next=3,(0,d.eP)(t);case 3:200==(n=e.sent).code?(x.ZP.success("新建成功"),ue(1),ie(!1)):x.ZP.error(n.msg);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),fe=function(){var e=o()(i()().mark((function e(){var t,n;return i()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={groupLink:T,status:R,remark:N,id:Q.id},e.next=3,(0,d.l2)(t);case 3:200==(n=e.sent).code?(x.ZP.success("修改成功"),ee(!1),ue(1)):x.ZP.error(n.msg);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),xe=function(){var e=o()(i()().mark((function e(){var t;return i()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,d.LO)(null==Q?void 0:Q.id);case 2:200==(t=e.sent).code?(x.ZP.success("删除成功"),ue(1),oe(!1)):x.ZP.error(t.msg);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,k.jsxs)(f._z,{children:[(0,k.jsx)(h.ZP,{type:"primary",style:{marginTop:30,marginBottom:30},onClick:function(){return ie(!0)},children:"新增TG群"},"primary"),(0,k.jsx)(p.Z,{dataSource:n,columns:ce,pagination:!1}),(0,k.jsx)(m.Z,{total:null==H?void 0:H.total,style:{marginTop:10},pageSize:null==H?void 0:H.size,current:null==H?void 0:H.current,onChange:function(e){return ue(e)}}),(0,k.jsxs)(y.Z,{title:"新增TG群",width:"1000px",open:re,onCancel:function(){return ie(!1)},onOk:function(){return de()},children:[(0,k.jsx)("div",{style:{display:"flex",marginBottom:10},children:(0,k.jsxs)("div",{style:{display:"flex",flexDirection:"column"},children:[(0,k.jsx)("div",{style:{fontSize:14,color:"#222",marginBottom:10},children:"是否启用"}),(0,k.jsx)("div",{style:{fontSize:14,color:"#222",flex:1},children:(0,k.jsx)(v.Z,{style:{width:120},defaultValue:C+"",onChange:function(e){return B(e)},options:[{label:"启用",value:"0"},{label:"禁用",value:"1"}]})})]})}),(0,k.jsx)("div",{style:{display:"flex",marginBottom:10},children:(0,k.jsxs)("div",{style:{display:"flex",flexDirection:"column"},children:[(0,k.jsx)("div",{style:{fontSize:14,color:"#222",marginBottom:10},children:"群链接"}),(0,k.jsx)(g.Z,{style:{width:300},placeholder:"群链接",value:u,onChange:function(e){return S(e.target.value)}})]})}),(0,k.jsx)("div",{style:{display:"flex",marginBottom:10},children:(0,k.jsxs)("div",{style:{display:"flex",flexDirection:"column"},children:[(0,k.jsx)("div",{style:{fontSize:14,color:"#222",marginBottom:10},children:"备注"}),(0,k.jsx)(g.Z,{style:{width:300},placeholder:"备注",value:b,onChange:function(e){return D(e.target.value)}})]})})]}),(0,k.jsxs)(y.Z,{title:"修改TG群",width:"1000px",open:$,onCancel:function(){return ee(!1)},onOk:function(){return fe()},children:[(0,k.jsx)("div",{style:{display:"flex",marginBottom:10},children:(0,k.jsxs)("div",{style:{display:"flex",flexDirection:"column"},children:[(0,k.jsx)("div",{style:{fontSize:14,color:"#222",marginBottom:10},children:"是否启用"}),(0,k.jsx)("div",{style:{fontSize:14,color:"#222",flex:1},children:(0,k.jsx)(v.Z,{style:{width:120},defaultValue:R+"",onChange:function(e){return V(e)},options:[{label:"启用",value:"0"},{label:"禁用",value:"1"}]})})]})}),(0,k.jsx)("div",{style:{display:"flex",marginBottom:10},children:(0,k.jsxs)("div",{style:{display:"flex",flexDirection:"column"},children:[(0,k.jsx)("div",{style:{fontSize:14,color:"#222",marginBottom:10},children:"群链接"}),(0,k.jsx)(g.Z,{style:{width:300},placeholder:"群链接",value:T,onChange:function(e){return O(e.target.value)}})]})}),(0,k.jsx)("div",{style:{display:"flex",marginBottom:10},children:(0,k.jsxs)("div",{style:{display:"flex",flexDirection:"column"},children:[(0,k.jsx)("div",{style:{fontSize:14,color:"#222",marginBottom:10},children:"备注"}),(0,k.jsx)(g.Z,{style:{width:300},placeholder:"备注",value:N,onChange:function(e){return W(e.target.value)}})]})})]}),(0,k.jsx)(y.Z,{title:"删除群",open:ae,onCancel:function(){return oe(!1)},onOk:function(){return xe()},children:(0,k.jsxs)("div",{children:["是否删除该群： ",(0,k.jsx)("span",{style:{fontWeight:"bold"},children:null==Q?void 0:Q.groupLink})]})})]})}},40190:function(){}}]);